<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GoldenGrape's Blog</title><link>https://goldengrape.github.io/</link><description>This is a blog site for GoldenGrape.</description><atom:link href="https://goldengrape.github.io/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2019 &lt;a href="mailto:https://twitter.com/goldengrape"&gt;Golden Grape&lt;/a&gt; </copyright><lastBuildDate>Fri, 21 Jun 2019 10:29:08 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>EDoF综述翻译</title><link>https://goldengrape.github.io/posts/ophthalmology/EDoF_review/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;今天查文献，看了一篇扩展焦深(Extended Depth of Foucs, EDoF)的综述。&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Zeev Zalevsky "Extended depth of focus imaging: a review," SPIE Reviews 1(1), 018001 (1 January 2010). &lt;a href="https://doi.org/10.1117/6.0000001"&gt;https://doi.org/10.1117/6.0000001&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;感觉不错，部分翻译之。&lt;/p&gt;
&lt;p&gt;全文在&lt;a href="https://www.spiedigitallibrary.org/journals/SPIE-Reviews/volume-1/issue-1/018001/Extended-depth-of-focus-imaging-a-review/10.1117/6.0000001.pdf"&gt;SPIE的数据库中&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;按眼科习惯，pupil翻译成了瞳孔
&lt;!-- TEASER_END --&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Extended-depth-of-focus-imaging:-a-review"&gt;Extended depth of focus imaging: a review&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#Extended-depth-of-focus-imaging:-a-review"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Zeev Zalevsky&lt;/p&gt;
&lt;p&gt;Bar-Ilan University, School of Engineering, Ramat-Gan, 52900, Israel&lt;/p&gt;
&lt;p&gt;zalevsz@eng.biu.ac.il&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="1-理论背景"&gt;1 理论背景&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#1-%E7%90%86%E8%AE%BA%E8%83%8C%E6%99%AF"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;光学成像系统达到较高的横向分辨率范围，称为焦深（Depth of Focus）或者景深（Depth of Field），具体使用那个名称取决于是在像空间还是在物空间描述。
从波动光学的角度来看，由于离焦在系统光瞳函数中引入了额外的二次相位，导致空间低通滤波效应，从而产生有限的焦深。
这种效应可以用系统的光学传递函数 (OTF) 均值H(μx, μy)来描述. 单透镜成像系统的光学传递函数可以表示为适当比例的透镜瞳孔函数的自相关 P(x, y) [1]:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
H\left(\mu_{x}, \mu_{y}\right)=\frac{\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} P\left(x+\frac{\lambda Z_{i} \mu_{x}}{2}, y+\frac{\lambda Z_{i} \mu_{y}}{2}\right) P^{*}\left(x-\frac{\lambda Z_{i} \mu_{x}}{2}, y-\frac{\lambda Z_{i} \mu_{y}}{2}\right) \mathrm{d} x \mathrm{d} y}{\int_{-\infty}^{\infty} \int_{-\infty}^{\infty}|P(x, y)|^{2} \mathrm{d} x \mathrm{d} y}
\tag{1}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 λ 是光波长，μx, μy 是空间频率，和 Zi 是镜头到像平面的距离。对于圆形瞳孔，在没有像差的情况下，P(x, y）由二元圆瞳孔函数给出，其等于瞳孔内 1，瞳孔外 0。在这种情况下，OTF 可以简单地写为&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
H\left(\mu_{x}, \mu_{y}\right)=\frac{\text { Area of overlap }}{\text { Total area }}=\frac{\iint_{A\left(\mu_{x}, \mu_{y}\right)} \mathrm{d} x \mathrm{d} y}{\iint_{A(0,0)} \mathrm{d} x \mathrm{d} y}
\tag{2}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 A(μx,μy)给出两个移位瞳孔之间的重叠区域【有卷积运算，所以其实是相当于把一个圆在另一个圆上移动，取得重叠区域的面积，即为结果，译者注】，A(0,0)是瞳孔的总面积。当引入像差时，广义瞳孔函数的形式&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
P(x, y)=|P(x, y)| \exp [i k W(x, y)]
\tag{3}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 W(x,y）为波像差函数和 k=2π/λ。下面就是在离焦的情况下，W(x,y）的二次函数形式：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
W(x, y)=W_{m} \frac{\left(x^{2}+y^{2}\right)}{b^{2}}
\tag{4}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 b 孔径的半径。系数 Wm 确定离焦像差的严重程度，公式如下：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
W_{m}=\frac{\Psi \lambda}{2 \pi}
\tag{5}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 ψ 定义如下&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\Psi=\frac{\pi b^{2}}{\lambda}\left(\frac{1}{Z_{i}}+\frac{1}{Z_{o}}-\frac{1}{f}\right)
\tag{6}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中，Zo是从物体到镜头的距离，f是透镜的焦距。当满足成像条件时：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\frac{1}{Z_{i}}+\frac{1}{Z_{o}}=\frac{1}{f}
\tag{7}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;并且畸变因子 ψ 等于零。当成像条件不满足时，公式(3)(4)的二次相位因子导致 OTF 分布变窄，即产生低通效应或者说抑制了较高的空间频率含量。对于一维的情况，公式(1)变形为：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\begin{aligned} H\left(\mu, W_{m}\right) &amp;amp;=\frac{\int_{-\infty}^{\infty} P\left(x+\frac{\lambda Z_{i} \mu}{2}\right) P^{*}\left(x-\frac{\lambda Z_{i} \mu}{2}\right) \mathrm{d} x}{\int_{-\infty}^{\infty}|P(x)|^{2} \mathrm{d} x} \\ &amp;amp;=\frac{\int_{A(\mu)} \exp \left[\frac{i k W_{m} \lambda Z_{i} \mu x}{b^{2}}\right] \mathrm{d} x}{2 b} \end{aligned}
\tag{8}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中 A(μ）是两个移位瞳孔函数之间的一维重叠。解公式(8)，得出 1-D OTF：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
H(\mu)=\left(1-\frac{|\mu|}{2 \mu_{\mathrm{c.o.}}}\right) \operatorname{sinc}\left\{\frac{8 W_{m} \pi}{\lambda}\left(\frac{\mu}{2 \mu_{\mathrm{c.o.}}}\right)\left(1-\frac{\mu}{2 \mu_{\mathrm{c.o.}}}\right)\right\}
\tag{9}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中$\mu_{\mathrm{c.o.}}=\frac{b}{\lambda Z_{i}}$，此表达式用于 H (μ）可近似为&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\begin{aligned} H(\mu) &amp;amp; \approx \frac{\int_{A(0)} \exp \left[\frac{i k W_{m} 2 \lambda Z_{i} \mu x}{b^{2}}\right] \mathrm{d} x}{2 b} \\ &amp;amp;=\frac{\int_{-b}^{b} \exp \left[\frac{4 \pi i W_{m} Z_{i} \mu x}{b^{2}}\right] \mathrm{d} x}{2 b} \\ &amp;amp;=\frac{1}{2 b} \cdot \int_{-\infty}^{\infty} \operatorname{rect}\left(\frac{x}{2 b}\right) \exp \left[\frac{4 \pi i W_{m} Z_{i} \mu x}{b^{2}}\right] \mathrm{d} x \\ &amp;amp;=\operatorname{sinc}\left(\frac{4 W_{m} \pi \mu Z_{i}}{b}\right) \end{aligned}
\tag{10}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2019/06/21/5d0caea4a5d2e84202.jpg" alt="图1"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;该近似值应满足以下条件: μ与$\frac{b}{\lambda Z_{i}}$ 相比不算太大，这样，A(μ）可近似为镜片的面积A(0)。该近似值也适用于 Wm值很大，导致指数的参数快速振荡。公式(10)显示了空间低通滤波效果。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在二维圆孔的情况下，得到了只有径向频率依赖性的OTF，在参考文献2中有推导。它被表示为一个Jn的级数展开，例如第一种类型的贝塞尔函数的第n项。&lt;/p&gt;
&lt;p&gt;如果希望估计焦深，则很容易证明焦深与波长和F数平方的乘积近似成正比。（F数，焦距与成像透镜直径的比值），即 $\lambda(f/2b)^2$. 从图1中很容易看出原因。由于衍射极限分辨率限制与 λ(f/2b）（点扩散函数的维数）成正比，光束发散时的几何角度为（2b）/f，那么得到的离焦光斑等于景深范围，乘以角度（2b）/f，并且应与 λ(f/2b) 成正比. 从这个关系式可以得出这样的结论：焦深范围正比于$\lambda (f /2b)^2$.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="2-概述：扩展景深的方法"&gt;2 概述：扩展景深的方法&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#2-%E6%A6%82%E8%BF%B0%EF%BC%9A%E6%89%A9%E5%B1%95%E6%99%AF%E6%B7%B1%E7%9A%84%E6%96%B9%E6%B3%95"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;随着摄影技术的发展，研究了各种方法来克服第一部分中描述的离焦限制。
最简单的方法是简单地减小成像镜头的孔径。减少可能是渐进的，例如在孔径切趾【在瞳孔边缘以模糊渐变来“切除”点扩散函数的“脚趾”，译者注】，或突变的，通过在孔径平面增加二进制阻塞/传输掩模 [3,4]. 不幸的是，更小的孔径降低了系统分辨率。（使公式(1)中的OTF更窄），也会减少到达影像平面的通光量。因此研发了其他一些办法。一种解决方案是在成像系统的孔径中增加折射元件。最流行的元素之一是 axicon[5,6]. 该元件的工作原理如图2所示。在轴棱锥偏转光束的交叠区域，用图中的虚线表示，得到扩展景深 (EDOF) 区域。为便于比较，蓝色虚线表示不存在 axicon 时的原始光线跟踪。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2019/06/21/5d0caea4a45c985791.jpg" alt="图2"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另一种基于折射元件的解决方案涉及多个透镜的多路复用，每个透镜具有不同的焦距。空间复用的一个例子是在“渐进式”或多焦点眼镜（如双焦点 [7] 或多焦点镜片 [8,9]). 在这些透镜中，两个（或更多）焦距在空间上是分开的，只允许在小部分视场内实现所需的聚焦性能。不同的透镜划分透镜光阑的平面，因此，由于每个透镜只覆盖光阑的有限部分，&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;系统具有较大的有效f数，从而降低了分辨率。另一方面，如果应用是眼镜，那么这样的解决方案就会限制视野，因为为了选择焦距以便聚焦到所需的距离，需要选择合适的视线。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一种不同的复用方式是几个镜头通过编码复用。在这种方法中，具有不同焦距的复用透镜被分成非常小的片，这些片随机散布在整个孔径平面上。这类解决方案通常是指多个衍射透镜。每个镜头覆盖全光瞳，因此每个镜头的分辨率不会降低 [10–12]. 这种编码复用可以通过随机地分布透镜或者通过在整个光阑平面上周期性展开每个透镜来实现。由于多片透镜的多路复用，孔径平面上密集的空间变化，很大一部分光能量通过大角度衍射转移。其结果是降低能量效率和眩光效应。与所有基于衍射的方案一样，由于衍射透镜的焦距与波长有关，因此系统表现出显著的色差。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另一种 EDOF 技术采用连接到成像透镜的立方位相元件 [13]. 这个想法基本上是插入比离焦像差更强的像差，这样通过数字后处理就可以重建出清晰的图像。与之前的方法相比，这种类型的解决方案不是全光学方法，而是需要数字后处理，因此不适合眼科（即视力矫正）应用。其他有趣的孔径编码技术需要数字后处理讨论在参考文献[13–15] 以及参考文献16中的镜片切趾技术。其他相关技术包括用分数阶相位板剪裁调制传递函数 [17] 和对数非球面透镜 [18].【这俩是啥？译者问】&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一个不同的和历史上重要的扩展景深的方法涉及 Scheimpflug[19]，他通过重新定位成像系统提供的理论上可以无限扩展焦深。Scheimpflug设置的示意图见图3(a)， 及其在实际光学中的实现方式见图3(b)&lt;/p&gt;
&lt;p&gt;在此配置中，必须满足以下数学条件：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\frac{1}{a}+\frac{1}{b}=\frac{1}{d}(\tan B+\tan A)=\frac{1}{f}
\tag{11}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Scheimpflug成像中，图3(a)中指定的线上物和像始终对焦清晰，因此沿这些平面定位的物体将始终成像于焦点上。这种方法的主要缺点是，在“渐进”镜片的情况下，视野非常有限，因为每个轴向距离都在不同的侧位成像。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2019/06/21/5d0caea5619ca23456.jpg" alt="图3"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;近年来出现了几种新的全光聚焦方法。这些方法的发展不仅对照相机的数字成像非常重要，而且对眼科视力矫正也非常重要。在一种方法中，焦深通过增加多个衍射环来扩展[20]。如前所述，使用衍射元件的一个缺点是伴随的色差。另一种方法，更多的是折射型，因此表现出减少的色差，包括一个由环组成的非二元剖面，这些环加在孔径透镜顶部，以产生穿过孔径的不平衡光程差[21] 【待研究，译者注】&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一个不同的全光学方向提供了一个基于干涉而不是衍射/折射类型的解决方案，见参考文献中[22]和[23]. 其基本思想是将成像透镜视为干涉仪中的一个部件。这样的解释是可能的，因为在焦点位置所有通过光阑的光线被叠加加起来。
通过在成像透镜顶部适当增加光学相位雕刻，在“焦点通道”中产生所需的建设性干扰，同时在其周围产生破坏性干扰（见图4). 添加的轮廓本身没有光学能力，但必须与成像透镜结合使用。光学轮廓雕刻具有较大的空间特征，因此不是衍射型元件。其蚀刻深度很小（约 1 μm），因此不会像在折射方案中那样增加物理路径差异【似乎不是在说光程差？译者注】。由于这种方法能量效率更高，并且表现出色差降低，因此适合眼科应用。 【参考文献22，23要重点看看，译者关注中】&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2019/06/21/5d0caea8e89b026058.jpg" alt="图4"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另一种扩展景深的全光技术是使用双折射透镜。最近，提出了一种新的方法，制作了一个双折射透镜 [24] 具有两种焦距，一种用于普通偏振态，另一种用于非常偏振态。它是一种单焦透镜，由于制造它的材料的双折射而变成双焦透镜。通过对透镜的适当设计，可以选择两个焦距，使聚焦范围扩大到大约两倍的焦深 [25]. 然而，制作这样的透镜是复杂和昂贵的。显然，这种工作原理只适用于外部照明没有偏振的情况，允许照明能量在两个焦点之间分配。一种简化的解决方案包括使用常规单焦点透镜并在透镜和成像平面之间添加双折射板 [26]. 板的增加为两个偏振产生不同的光路，因此每个偏振与单焦点成像透镜的聚焦距离不同。假设自由空间中所需光程差为$\Delta$，双折射材料具有普通和特殊的折射率分别为 $n_o$和 $n_e$，则双折射板的宽度应为：&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
$$
\Delta_{B}=\frac{\Delta}{\left(1-\frac{n_{0}}{n_{\mathrm{e}}}\right)}
\tag{12}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;注意，最后一个方程对于入射光束的垂直入射是有效的，并且非垂直入射角（主要对应于视场的边缘）不会得到合适的焦深扩展。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如前所述，使用针孔降低了分辨率和能量效率，但显著增加了系统的景深。因此，实现焦深扩展的一个可能的改进是使用随机针孔板代替成像透镜。[27,28]. 在这种情况下，能量效率是提高的，因为有许多针孔覆盖镜头光圈。分辨率虽然降低，但可以通过适当的数字滤波操作恢复。这种结构的一个很好的特点是，由于针孔掩模是随机的，OTF 具有随距离变化的随机相位分布。因此，可以通过适当校正 OTF 的相位来提取到图像中各种物体的距离。每次相位校正都将导致焦点内物体定位在不同的轴向距离上。如果考虑数字后处理，则可通过观察傅里叶平面中产生的零点，从图像以数字方式估计离焦量[29,30].&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;扩展景深主题与波束成形密切相关，为此目的采用的方法与本综述相关。基于 Gerchberg–Saxton 的迭代算法[31,32]以及解析优化3D点扩散函数的方法[33]，已被证明在正确设计点扩散函数时是有用的。控制点扩展函数的三维形状可以用来进行波束成形和扩展焦深。优化过程可以通过基于广义传播不变波场的描述 [34,35] 或通过使用变分法的 3-D 优化 [36,37]. 所需的波束整形也可以通过成像透镜孔径的适当相位和振幅切趾获得，如参考文献[38–42]所述。在参考文献[41]中，作者介绍了如何利用傅里叶变换工具获得的光学系统的光瞳函数来调整系统的焦深。【这篇要看看，译者想】&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="3-老视与人类视觉"&gt;3 老视与人类视觉&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#3-%E8%80%81%E8%A7%86%E4%B8%8E%E4%BA%BA%E7%B1%BB%E8%A7%86%E8%A7%89"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;【这一部分看起来比较陈旧，翻译略】，提到可能可以用EDoF来阻止儿童近视进展。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="4-结论"&gt;4 结论&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#4-%E7%BB%93%E8%AE%BA"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;略&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="参考文献"&gt;参考文献&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/ophthalmology/EDoF_review/#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;见原文&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;&lt;/div&gt;</description><category>ophthalmology</category><guid>https://goldengrape.github.io/posts/ophthalmology/EDoF_review/</guid><pubDate>Fri, 21 Jun 2019 04:00:00 GMT</pubDate></item><item><title>有意义的批评是针对可变量的</title><link>https://goldengrape.github.io/posts/bulabula/Meaningful-criticism-is-for-variables/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;人有很多属性，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有些是可变的，是变量，比如努力的程度、认真的程度，对待事情的态度……&lt;/li&gt;
&lt;li&gt;有些是不可变的，或者在可观测的短时间内无法改变，是常量，比如性别、种族、成年以后的身高、父母、出生地、信仰、国籍……&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果批评或者表扬的目的是为了让对象有所改变，那么至少是应该针对那些可以改变的&lt;strong&gt;变量&lt;/strong&gt;属性，而不要针对那些对方无法改变的&lt;strong&gt;常量&lt;/strong&gt;属性。&lt;/p&gt;
&lt;p&gt;也就是说，在批评或者表扬的时候，要将原因归结于人的可变属性。&lt;/p&gt;
&lt;p&gt;我觉得这个道理还是挺浅显的。&lt;/p&gt;
&lt;!-- TEASER_END --&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/bulabula/Meaningful-criticism-is-for-variables/</guid><pubDate>Tue, 11 Jun 2019 17:00:00 GMT</pubDate></item><item><title>抗偏位非球面人工晶体设计</title><link>https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;先给非眼科学的读者介绍一下知识背景。1949年，Ridly爵士发明了人工晶状体（Intraocluar lens，IOL，人工晶体），是一枚有机玻璃镜片，可以植入到眼内，替代人眼的天然晶状体。这是唯一，也是非常有效的治疗白内障的方法，将因为白内障浑浊的天然晶状体，更换成人工晶体。&lt;/p&gt;
&lt;p&gt;早期人工晶体的加工和光学设计显然是和光学镜头一致的，是球面镜。人工晶体的材料逐渐从硬质的PMMA，进化到了有弹性可折叠的硅胶、亲水/疏水丙烯酸酯、胶原等材料，切口也越来越小。但人工晶体的光学设计一直到1990s末才发生改变。&lt;/p&gt;
&lt;p&gt;人眼的角膜，是具有球差的，是一个“正球差”的凸透镜，也就是说，周边的屈光力更强，中央的弱一些，周边的光线会被聚焦得更&lt;strong&gt;近&lt;/strong&gt; ，人眼的晶状体，这东西不但形状不是标准球面镜，内部的折射率还是渐变的，最终的结果是人眼的晶状体是一个“负球差”的透镜。一定程度上，两个透镜的结合导致球差能够互相抵消一部分。&lt;/p&gt;
&lt;p&gt;对于球面镜的人工晶体，一定是一枚“正球差”的凸透镜，所以，即使屈光度计算正确，仍然会与角膜搭配增加球差。于是眼科医生们希望能够设计出非球面的人工晶体。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参考文献1:姚克, 陆道炎, 王丽天, 等. 非球面等视像后房型人工晶状体的临床应用. 中华眼科杂志, 1989, 25:262-264.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ncbi.nlm.nih.gov/pubmed/12458861"&gt;参考文献2: A new intraocular lens design to reduce spherical aberration of pseudophakic eyes.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;第一枚上市的非球面人工晶体是AMO公司(现在属于强生)的Tecnis Z9000, &lt;a href="https://www.accessdata.fda.gov/scripts/cdrh/cfdocs/cfpma/pma.cfm?id=P990080S001"&gt;FDA: 09/05/2001 &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;非球面IOL上市以后，人们发现，由于IOL是通过手术植入的，多多少少可能有些偏位，也就是人工晶体的光学中心与角膜的光轴可能有差距。这个量很小，只有0.x mm。当消球差的两个非球面镜之间发生偏位的时候，平行光入射，会发生偏移，会形成新的像差，叫做慧差，于是一部分厂商认为慧差也是需要纠正的。&lt;/p&gt;
&lt;p&gt;但在术前并无法知道术后IOL的偏位量，所以博士伦公司推出了“零球差”的IOL，也就是较少矫正角膜球差，虽然可能有偏位，但并不因为偏位而产生慧差。&lt;/p&gt;
&lt;p&gt;在此之后，更多的厂商利用光学设计推出了“抗偏位”的非球面人工晶体，也就是说，在矫正角膜球差的基础上，即使发生了偏位，也不会引起比较大的慧差。&lt;/p&gt;
&lt;p&gt;相应的，各个厂商也给自己的非球面人工晶体起了各种名字，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HOYA： 非球面平衡曲线（ABC曲线）&lt;/li&gt;
&lt;li&gt;爱博诺德：高次非球面&lt;/li&gt;
&lt;li&gt;蕾明视康：轴向渐进非球面&lt;/li&gt;
&lt;li&gt;蔡司：非恒定像差&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么接下来就讲解抗偏位非球面人工晶体设计的基本原理。
&lt;!-- TEASER_END --&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="定理"&gt;定理&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E5%AE%9A%E7%90%86"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;“当你需要深入了解时，一定在眼科书里找不到详细。”&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="工具"&gt;工具&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E5%B7%A5%E5%85%B7"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;工业用光学设计软件：&lt;ul&gt;
&lt;li&gt;Zemax: 专业工具，人工晶体设计厂商常用，昂贵&lt;/li&gt;
&lt;li&gt;OSLO EDU：教学版本免费，一些功能受到限制&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;此次演示使用Python，我们从0开始，演示如何建一个轮子。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要的知识：&lt;ul&gt;
&lt;li&gt;高数：求微分&lt;/li&gt;
&lt;li&gt;线性代数：向量乘法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;ipywidgets&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;interact&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;interact_manual&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;ipywidgets&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;widgets&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;lmfit&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;minimize&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Parameters&lt;/span&gt;

&lt;span class="c1"&gt;#matplotlib inline&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="非球面的表示法"&gt;非球面的表示法&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E9%9D%9E%E7%90%83%E9%9D%A2%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%B3%95"&gt;¶&lt;/a&gt;&lt;/h2&gt;$$
z(r)=\frac{r^{2}}{R\left(1+\sqrt{1-(1 + \kappa) \frac{r^{2}}{R^{2}}}\right)}+\alpha_{4} r^{4}+\alpha_{6} r^{6}+\cdots
$$&lt;ul&gt;
&lt;li&gt;r 曲面到光轴的距离，假定是轴对称的曲面，r只有偶数次幂级数&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="描述一个非球面镜的参数："&gt;描述一个非球面镜的参数：&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%AA%E9%9D%9E%E7%90%83%E9%9D%A2%E9%95%9C%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%9A"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;R：曲率半径&lt;/li&gt;
&lt;li&gt;$\kappa$&lt;ul&gt;
&lt;li&gt;眼科常使用Q来代替$\kappa$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style="text-align:left"&gt;$\kappa$&lt;/th&gt;
&lt;th style="text-align:left"&gt;意义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;$\kappa$ &amp;lt; -1&lt;/td&gt;
&lt;td style="text-align:left"&gt;双曲线&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;$\kappa$ = -1&lt;/td&gt;
&lt;td style="text-align:left"&gt;抛物线&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;-1 &amp;lt; $\kappa$ &amp;lt; 0&lt;/td&gt;
&lt;td style="text-align:left"&gt;椭圆（prolate spheroid)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;$\kappa$ = 0&lt;/td&gt;
&lt;td style="text-align:left"&gt;圆&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;$\kappa$ &amp;gt; 0&lt;/td&gt;
&lt;td style="text-align:left"&gt;椭圆 （oblate spheroid）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;高次项系数：$\alpha_{4},\alpha_{6},\alpha_{8},\alpha_{10},\cdots$&lt;/li&gt;
&lt;li&gt;镜面中心顶点的位置&lt;/li&gt;
&lt;li&gt;镜面两侧介质的折射率&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;z&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;partA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
    &lt;span class="n"&gt;partB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="n"&gt;partB&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;partA&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;partB&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;r0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"apex"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;z0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="ABC曲线图示："&gt;ABC曲线图示：&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#ABC%E6%9B%B2%E7%BA%BF%E5%9B%BE%E7%A4%BA%EF%BC%9A"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;如果直接看镜片的剖面，肉眼是很难分辨出来到底是球面，还是非球面，还是其他更复杂的非球面。于是有一种给眼科大夫们介绍的时候，厂商会使用一种光焦度图，横轴是IOL上某一点到光轴的距离r，纵轴是光焦度或者说屈光度。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;对函数z(r)上每一点的曲率半径：
$$
Radius=\frac{\left|z^{\prime \prime}(r)\right|}{\left(1+z^{\prime 2}(r)\right)^{3 / 2}}
$$
换算成屈光度
$$
Power=\frac{N_2-N_1}{Radius} \\
Power = \frac{(N_2-N_1)\left(1+z^{\prime 2}(r)\right)^{3 / 2}}{\left|z^{\prime \prime}(r)\right|}
$$
其中$N_1,N_2$是镜面两侧的折射率&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;已知:&lt;/p&gt;
$$
z(r)=\frac{r^{2}}{R\left(1+\sqrt{1-(1 + \kappa) \frac{r^{2}}{R^{2}}}\right)}+\alpha_{4} r^{4}+\alpha_{6} r^{6}+\cdots
$$&lt;p&gt;一阶导数: 
$$
z^{\prime}=\frac {\partial z}{\partial r} = \frac{r}{R \sqrt{1-\frac{r^{2}(1+\kappa)}{R^{2}}}} + 4 a_4 r^{3}+6 a_6 r^{5}+ \cdots
$$
二阶导数：&lt;/p&gt;
$$
z^{\prime \prime}=\frac {\partial ^2 z}{\partial r^2} =\frac{R^{3} \sqrt{1-\frac{r^{2}(1+\kappa)}{R^{2}}}}{\left(R^{2}-r^{2}(1+\kappa)\right)^{2}}+12 a_4 r^{2}+30 a_6 r^{4}+ \cdots
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="c1"&gt;# z'&lt;/span&gt;
    &lt;span class="n"&gt;dz_partA&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; 
    &lt;span class="n"&gt;dz_partB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="n"&gt;dz_partB&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;dz_partA&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dz_partB&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dz2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;dz2_partA&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;dz2_partB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="n"&gt;dz2_partB&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;dz2_partA&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dz2_partB&lt;/span&gt;
    
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;surface_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dz2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;power&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="测试绘图"&gt;测试绘图&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E6%B5%8B%E8%AF%95%E7%BB%98%E5%9B%BE"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# 𝜅  &amp;gt; 0	椭圆 （oblate spheroid）&lt;/span&gt;
    &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="透镜剖面图"&gt;透镜剖面图&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E9%80%8F%E9%95%9C%E5%89%96%E9%9D%A2%E5%9B%BE"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'equal'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="透镜屈光度图"&gt;透镜屈光度图&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E9%80%8F%E9%95%9C%E5%B1%88%E5%85%89%E5%BA%A6%E5%9B%BE"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;𝜅  &amp;gt; 0  椭圆 （oblate spheroid），中央屈光度更高，周边逐渐降低，这是一个“负球差”透镜&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Ray-Tracing（光路追迹，光线追踪）"&gt;Ray Tracing（光路追迹，光线追踪）&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#Ray-Tracing%EF%BC%88%E5%85%89%E8%B7%AF%E8%BF%BD%E8%BF%B9%EF%BC%8C%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA%EF%BC%89"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;光线在均一介质中传播&lt;/li&gt;
&lt;li&gt;光线在界面上的折射&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="光线在均一介质中传播"&gt;光线在均一介质中传播&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E5%85%89%E7%BA%BF%E5%9C%A8%E5%9D%87%E4%B8%80%E4%BB%8B%E8%B4%A8%E4%B8%AD%E4%BC%A0%E6%92%AD"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;直线的方程, 从点$P_0$沿着方向矢量$\vec l$ 传播距离d, 到达点$P(d)$&lt;/p&gt;
$$
P(d)=P_0+d  \vec l  
$$&lt;p&gt;考虑r方向和z方向两个分量
$$
P(d)_r=P_{0r}+d_r  l_r \\
P(d)_z=P_{0z}+d_z  l_z \\
其中 \frac{d_r}{d_z}=\frac{l_r}{l_z}
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;travel_in_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;vec_lz&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;vec_l_in_z&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vec_lz&lt;/span&gt;
    &lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pdz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;p0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;vec_l_in_z&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;pdz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="折射"&gt;折射&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E6%8A%98%E5%B0%84"&gt;¶&lt;/a&gt;&lt;/h2&gt;$$
n_1 Sin(\theta_1) = n_2 Sin(\theta_2)
$$&lt;p&gt;参考 &lt;a href="https://en.wikipedia.org/wiki/Snell's_law"&gt;https://en.wikipedia.org/wiki/Snell's_law&lt;/a&gt; 中的矢量形式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入射光方向: $\vec l$&lt;/li&gt;
&lt;li&gt;曲面的法向量: $\vec n$&lt;/li&gt;
&lt;li&gt;入射面介质折射率: $n_1$&lt;/li&gt;
&lt;li&gt;出射面介质折射率: $n_2$&lt;/li&gt;
&lt;/ul&gt;
$$
r=n_1/n_2\\
c=-\vec n \cdot \vec l \\
\vec V_{refract}=r\vec l+(rc-\sqrt{1-r^2(1-c^2)})\vec n
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;V_refract&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;diag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;matmul&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transpose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;matmul&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;    
    &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;  &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;vec_n&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linalg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;keepdims&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 测试：&lt;/span&gt;
&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asarray&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.707107&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asarray&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;
&lt;span class="n"&gt;V_refract&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# should be:&lt;/span&gt;
&lt;span class="c1"&gt;# [ 0.6364, -0.7714]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.63639614, -0.7713624 ],
       [ 0.63639614, -0.7713624 ],
       [ 0.63639614, -0.7713624 ]])&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="曲面的法向量:-$\vec-n$"&gt;曲面的法向量: $\vec n$&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E6%9B%B2%E9%9D%A2%E7%9A%84%E6%B3%95%E5%90%91%E9%87%8F:-%24%5Cvec-n%24"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;简化，仅仅考虑二维&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;已知有曲面
$$
z=z(r)
$$
则曲面在(z0,r0)位置的法向量: 
$$
\left[ 
\begin{array}{c} 
-1\\ 
\frac{\partial }{\partial r}z\left(r \right) |_{r=r0} 
\end{array} 
\right]
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;norm_vec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;kappa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ones&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linalg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;keepdims&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="绘制曲面上的法向量"&gt;绘制曲面上的法向量&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E7%BB%98%E5%88%B6%E6%9B%B2%E9%9D%A2%E4%B8%8A%E7%9A%84%E6%B3%95%E5%90%91%E9%87%8F"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'equal'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 绘制曲面&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 计算法向量&lt;/span&gt;
&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;
&lt;span class="n"&gt;rn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;norm_v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;norm_vec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;zn&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;zn1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;zn&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;norm_v&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;rn1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rn&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;norm_v&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;zn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;zn1&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]],[&lt;/span&gt;&lt;span class="n"&gt;rn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;rn1&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="在曲面上折射"&gt;在曲面上折射&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E5%9C%A8%E6%9B%B2%E9%9D%A2%E4%B8%8A%E6%8A%98%E5%B0%84"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;refract_from_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;r0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"apex"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r0&lt;/span&gt;
    &lt;span class="n"&gt;vec_n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;norm_vec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_parameter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;V_refract&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vec_l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vec_n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="薄透镜近似"&gt;薄透镜近似&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E8%96%84%E9%80%8F%E9%95%9C%E8%BF%91%E4%BC%BC"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;薄透镜&lt;ul&gt;
&lt;li&gt;直线与曲线的交点，化简成为直线与直线的交点. &lt;strong&gt;这个简化大大降低了运算难度，但也引入很大误差&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;暂不考虑瞳孔大小&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="已知模型，模拟成像过程"&gt;已知模型，模拟成像过程&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E5%B7%B2%E7%9F%A5%E6%A8%A1%E5%9E%8B%EF%BC%8C%E6%A8%A1%E6%8B%9F%E6%88%90%E5%83%8F%E8%BF%87%E7%A8%8B"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;一组平行光，经过两个非球面镜，聚焦到屏幕上。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;非球面镜0: 镜头垂直于光轴，镜头中心位于光轴上，是一个简单的椭球面&lt;/li&gt;
&lt;li&gt;非球面镜1: 镜头垂直于光轴，但镜头中心有一定的偏位&lt;/li&gt;
&lt;li&gt;屏幕：垂直于光轴&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;surface_1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;surface_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1e+10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Ray-Tracing（光路追迹，光线追踪）"&gt;Ray Tracing（光路追迹，光线追踪）&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#Ray-Tracing%EF%BC%88%E5%85%89%E8%B7%AF%E8%BF%BD%E8%BF%B9%EF%BC%8C%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA%EF%BC%89"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;追踪每一条光线所走的路径：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在均一介质内直线行进：位置改变，方向不变&lt;/li&gt;
&lt;li&gt;在镜头界面上折射：位置不变，方向改变&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;依次穿过每一个透镜界面，计算出最终在屏幕上光线的位置&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="c1"&gt;# 记录光线的位置&lt;/span&gt;
    &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 从被追踪光线的起始位置和起始方向开始：&lt;/span&gt;
    &lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;
    &lt;span class="n"&gt;light_direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt;
    
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c1"&gt;# 遍历每一个曲面&lt;/span&gt;
        &lt;span class="c1"&gt;#光线在均匀介质内传播，到达该曲面&lt;/span&gt;
        &lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;travel_in_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;dz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;#光线经过该曲面发生折射&lt;/span&gt;
        &lt;span class="n"&gt;light_direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;refract_from_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;light_direction&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;#记录下光线的位置&lt;/span&gt;
        &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;light_postion_list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;init_light&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;#初始化光线&lt;/span&gt;
    &lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ones&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;#从z=-5平面开始发出光线&lt;/span&gt;
    &lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c1"&gt;#方向矢量(1,0)，指向Z轴方向&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw_ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# 绘制出各个曲面的位置：&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'equal'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# 光线的起点和方向&lt;/span&gt;
&lt;span class="c1"&gt;#     N=3 # 光线数量&lt;/span&gt;
    &lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;init_light&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# 追踪光线，获得光线在各个曲面上经过时的坐标&lt;/span&gt;
    &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# 绘制出每一根光线&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;light_postion&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;light_postion&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;light_postion&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;light_postion&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#     ax.set_xlim(28, 32)&lt;/span&gt;
&lt;span class="c1"&gt;#     ax.set_ylim(-2,2)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 绘制ray tracing过程：&lt;/span&gt;
&lt;span class="n"&gt;draw_ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;/Users/goldengrape/anaconda3/envs/blog/lib/python3.6/site-packages/ipykernel_launcher.py:5: RuntimeWarning: invalid value encountered in sqrt
  """
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="未知模型，求解最佳参数"&gt;未知模型，求解最佳参数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E6%9C%AA%E7%9F%A5%E6%A8%A1%E5%9E%8B%EF%BC%8C%E6%B1%82%E8%A7%A3%E6%9C%80%E4%BD%B3%E5%8F%82%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;一组平行光，经过两个非球面镜，聚焦到屏幕上。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;非球面镜0: 镜头垂直于光轴，镜头中心位于光轴上，是一个简单的椭球面&lt;/li&gt;
&lt;li&gt;非球面镜1: 镜头垂直于光轴，但镜头中心在一定范围内偏位&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="优化模型"&gt;优化模型&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9E%8B"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;当非球面镜1偏位时，每一条光线最好都能够落在焦点附近，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;注意：由于镜头偏位，所以焦点并不一定在光轴上，&lt;ul&gt;
&lt;li&gt;“焦点”，各个光线汇聚的点，或者说，光线的平均位置。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;简化：每一条光线在屏上的位置 &lt;strong&gt;尽量靠近&lt;/strong&gt; 非球面镜1的偏位距离&lt;ul&gt;
&lt;li&gt;尽量靠近：到达给定位置的平方和最小&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;优化问题： 求loss&lt;em&gt;function的最小值：
$$
loss =\sum&lt;/em&gt;{偏位距离=-\Delta}^{+\Delta} \sum_{光线_i =0 }^{N} |光线_i 在屏上位置- 非球面镜_1 的偏位距离|^2
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;loss_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt;  &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;spots_on_screen_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;Delta&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;apex_r&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Delta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Delta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="c1"&gt;# 将曲面在一定范围内移动&lt;/span&gt;
    
        &lt;span class="n"&gt;surface_t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a4"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a6"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a8'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a10'&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
            &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;apex_r&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;surface_2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; 

        &lt;span class="c1"&gt;# 追踪光线，获得光线在各个曲面上经过时的坐标&lt;/span&gt;
        &lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surfaces&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
        &lt;span class="c1"&gt;# 希望屏上的光线落在偏位点的附近&lt;/span&gt;
        &lt;span class="n"&gt;spots_on_screen&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_postion_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][:,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apex_r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;spots_on_screen_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spots_on_screen&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;spots_on_screen_list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="优化器"&gt;优化器&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E4%BC%98%E5%8C%96%E5%99%A8"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;lmfit，scipy优化器的封装，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设定好需要优化的参数: $ R, \kappa, a_4,a_6,a_8,a_{10} $ &lt;/li&gt;
&lt;li&gt;设定目标loss_function&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;求解使得loss_function取得最小值的参数表&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;lmfit&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Minimizer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Parameters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;report_fit&lt;/span&gt;

&lt;span class="c1"&gt;# 定义待求解的参数，以及初值，参数的数值范围&lt;/span&gt;
&lt;span class="n"&gt;params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Parameters&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# add with tuples:(NAME,    初始值,  求解， Min    MAX   EXPR  BRUTE_STEP)&lt;/span&gt;
&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_many&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'R'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;   &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'kappa'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'a4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'a6'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'a8'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'a10'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;   &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
               &lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;# 输入N条光线&lt;/span&gt;
&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;
&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;init_light&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 求解参数&lt;/span&gt;
&lt;span class="n"&gt;minner&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Minimizer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loss_function&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                   &lt;span class="n"&gt;fcn_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;light_position_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;light_direction_start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                   &lt;span class="n"&gt;nan_policy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"propagate"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;minner&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;minimize&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="结果"&gt;结果&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/#%E7%BB%93%E6%9E%9C"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"R=&lt;/span&gt;&lt;span class="si"&gt;{:.2f}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"kappa=&lt;/span&gt;&lt;span class="si"&gt;{:.2f}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a4=&lt;/span&gt;&lt;span class="si"&gt;{:.2e}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a4"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a6=&lt;/span&gt;&lt;span class="si"&gt;{:.2e}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a6"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a8=&lt;/span&gt;&lt;span class="si"&gt;{:.2e}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a8"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a10=&lt;/span&gt;&lt;span class="si"&gt;{:.2e}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a10"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;R=6.02
kappa=1.34
a4=-4.52e-02
a6=-2.28e-03
a8=4.15e-04
a10=-2.71e-05
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_surface_target&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;apex_r&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"R"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"kappa"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a4"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"a6"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a8'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a10'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s1"&gt;'apex'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;apex_r&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="s1"&gt;'refractive_index'&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# before and after&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# surface 0 的光焦度曲线&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# surface 1 的光焦度曲线&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# plt.axis('equal')&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# ax=draw_surface(r, surface_0, ax)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;draw_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;get_surface_target&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX4AAAD8CAYAAABw1c+bAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4zLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvnQurowAAIABJREFUeJzt3Xd8leX9//HXJ3svCGETNjJkGEALDpw4Uev3W9C2arXUWa3W1W+r1ra21Va/dVSL1bqtA7cgYt0LSZA9w5IQJIFABpB9/f7IwV++mJADnOQ+4/18PM6Dk/u+Ts7nytF37tz3dV+XOecQEZHIEeV1ASIi0rEU/CIiEUbBLyISYRT8IiIRRsEvIhJhFPwiIhFGwS8iEmEU/CIiEUbBLyISYWK8LqAlnTt3drm5uV6XISISMgoKCrY557L9aRuUwZ+bm0t+fr7XZYiIhAwz2+hvW53qERGJMAp+EZEIo+AXEYkwCn4RkQjT5sVdM+sFPAl0BRqBGc65v+3T5gbggmbf8zAg2zlXZmYbgEqgAah3zuUFrnwRETlQ/ozqqQeud84tMLNUoMDM5jrnlu9t4Jy7G7gbwMzOBH7hnCtr9j0mOee2BbJwERE5OG2e6nHObXHOLfA9rwRWAD3285JpwHOBKU9ERALtgMbxm1kuMBqY18r+JGAycFWzzQ54x8wc8A/n3IyDqlRa1dDo2FZVQ/HOPZRU1lBVXc+u2nqqauqpq3fERBtRZsREGWmJMWQlx9MpJY6eGYlkp8ZjZl53QUQ6kN/Bb2YpwEzgWudcRSvNzgQ+3ec0zwTnXLGZdQHmmtlK59xHLXz/6cB0gN69e/vdgUiyY1cta0qqWL21kjVbK1lTUsWGbbvYWllDQ+PBrZ2cGh9D3+xkhnVPY0zvTPJys8jtlKRfBiJhzPxZbN3MYoE3gTnOuXv20+4V4EXn3LOt7L8dqHLO/WV/75eXl+ci/c5d5xxfl+1m3voy5q8v48sNZWzcvvvb/clx0QzISaV/52S6ZSTQNT2R7ukJ5KQlkJoQQ3J8DCnxMcRGR9HQ6GhodNQ1NlKxp47tVbVs31XD19t3s27bLtaWVrGkqJyK6noAuqcncOLQHE48LIcj+3UiLkaDv0SCnZkV+Dt4xp9RPQY8CqxoI/TTgWOBHzbblgxEOecqfc9PBu7wp7BI09joWFNSxZfrtzeF/YYytlbUAJCRFMvY3CymjevN4K6pDMpJpXt6gt9H5dFRTe0SiSYtIZaemUktvn9haRX5G3bwwaoSXsjfxJOfbyQrOY7vj+nBD8b2ZkCXlMB1WEQ80+YRv5lNBD4GltA0nBPgV0BvAOfcw752FwGTnXNTm722H/CK78sY4Fnn3B/aKioSjvjrGxpZVlzBl+vLmLe+jPyNZezcXQdATlo84/p2YlzfLMb3zWJAdgpRUR176qW6roGP12xjZkER767YSn2j43v9O3HVpAEc1b+TTgWJBJkDOeL361RPRwvH4K+ua2Dhpp3fnrYp2LiD3bUNAOR2SmJc3yzG5mYxvm8nemUlBlWwllbW8GLBJh7/dAMllTWM6Z3BtScO4phBfk0EKCIdQMEfBCqr6yjYuIMv15fx5foyFheVU9vQiBkMzkllXN+spkduFl3SErwu1y/VdQ28VFDEQx+sZfPOPRw/pAu/Pv0w+mXrFJCI1xT8HiipqCZ/4w7yN+zgyw3bWV5cQaODmChjeI90xvuO6PNyM8lIivO63ENSW9/IE59t4L7/rKG6voGfTOzLL04cREJstNeliUQsBX87a2x0rC6pJH/DDgo27iB/YxmbyvYAEB8TxejeGYzr24nxfbMY3TuDpLigXPbgkG2rquHut1fxfP4m+mcn85f/Gsno3plelyUSkRT8AVTf0Mi6bbtYUlTO0uJylm2uYFlxObt85+c7p8ST1yeTvNxMjuiTybDu6RE3/PGTNdu4aeZitpTv4fLj+vOLEwcREx1ZPwMRryn4D0J1XQMbt+9mbWkV60qrWFu6i3WlVazaWkl1XdNgpsTYaIZ2T2N49zQO75lBXm4mvbN0sxM0XdP43ZvLeSG/iCP7ZXHftNF0SQ2Naxci4SBig985341KDY7ahkbqGhqprW+ksrqe8j117Nxd6/u3ji3l1Wwp30NxeTVbdu6htKqG5j+K7ukJ9MtOYVBOKiN6pjGiRzp9O6d8OyZeWvbygiJ+9coS0hJiefCCMYzNzfK6JJGIENAbuELJ0FvnsKeuwa+2SXHRdEtPoHtGIoMHZ9MtPZF+2cn0z06hX3Zy2J6Xb2/njunJ0O5pXPZUAec/8gV//v7hnDump9dliUgzYZVuV07qj3MQGxNFbHQUsdFGbHQUqQkxZCTGkZEUS3piLOlJsaTGx+gUTTsZ0jWN166ayOVPF3DdC4so2rGHq48foJ+3SJAIq+C/6viBXpcgPumJsTx+8ThunrmYe+auZvOOPfzhnOG66CsSBMIq+CW4xMVE8df/HkmPzETuf6+QXbX13PuDUcQq/EU8peCXdmVmXH/yYJLjY/jT7JXUNTRy/7QxETfkVSSY6P8+6RCXHdufW88YypxlW7n86QJq6xvbfpGItAsFv3SYn0zsy+/OHs5/Vpbwi+cXHvTiMSJyaHSqRzrUj47sw57aeu6ctZK0xBjuPGeERvuIdDAFv3S46cf0p3xPHQ++v5a0xFhuOfUwr0sSiSgKfvHEL08eTMWeev7x4Tq6pSVw0YS+XpckEjEU/OIJM+P2s4axpbyaO95cTu9OSRw/JMfrskQigi7uimeio4z7po1iaPc0rnr2K5YVl3tdkkhEUPCLp5LiYnj0wrGkJ8ZyyeP5lFRUe12SSNhT8IvnctISePTCsZTvqePKZxdQ16Ax/iLtqc3gN7NeZva+ma0ws2Vmdk0LbY4zs3IzW+h73Nps32QzW2VmhWZ2c6A7IOFhaPc0/vT9EczfsIM/vLXC63JEwpo/F3frgeudcwvMLBUoMLO5zrnl+7T72Dl3RvMNZhYNPAicBBQB883s9RZeK8KUUT1YtKmcxz5dz8he6ZwzWtM5i7SHNo/4nXNbnHMLfM8rgRVADz+//zig0Dm3zjlXC/wbmHKwxUr4u+W0IYzrm8UtLy9heXGF1+WIhKUDOsdvZrnAaGBeC7uPMrNFZjbbzIb5tvUANjVrU4T/vzQkAsVGR/Hg+WNIT4zl8mcKqKyu87okkbDjd/CbWQowE7jWObfvodgCoI9zbiRwP/Dq3pe18K1anKDFzKabWb6Z5ZeWlvpbloSh7NR4Hjh/DJvKdnPra8u8Lkck7PgV/GYWS1PoP+Oce3nf/c65Cudcle/5LCDWzDrTdITfq1nTnkBxS+/hnJvhnMtzzuVlZ2cfYDck3IzNzeKaEwbxylebeXlBkdfliIQVf0b1GPAosMI5d08rbbr62mFm43zfdzswHxhoZn3NLA6YCrweqOIlvF11/ADG9c3i168uZf22XV6XIxI2/DninwD8CDi+2XDN08zsMjO7zNfmPGCpmS0C7gOmuib1wFXAHJouCr/gnNPf7uKX6Cjjb1NHERcTxdXPLdAc/iIBYs4F35zoeXl5Lj8/3+syJEjMWfYNP3uqgJ8d208zeYq0wswKnHN5/rTVnbsS9E4Z1pVp43ox46N1FGws87ockZCn4JeQ8D+nD6VHRiLXv7CI3bX1XpcjEtIU/BISUuJjuPu8kWzYvpu73l7ldTkiIU3BLyHjqP6duHhCLo9/toHPCrd5XY5IyFLwS0i58ZQh9OuczA0vLdZdvSIHScEvISUxLpq7/2skxeV7+MscnfIRORgKfgk5R/TJ5MKjcnnyi40UbNzhdTkiIUfBLyHpl6cMpltaAjfPXKwbu0QOkIJfQlJKfAy/P2c4a0qqeOiDtV6XIxJSFPwSso4fksOZI7vz4PuFFJZUel2OSMhQ8EtIu/WMoSTGRXPzzCU0Ngbf9CMiwUjBLyEtOzWeX59+GPkbd/Dc/K+9LkckJCj4JeSdd0RPxvfN4q63V7G9qsbrckSCnoJfQp6Z8buzh7Orpl7TOYj4QcEvYWFQTio/mdiX5/M3seBrje0X2R8Fv4SNn58wkJy0eH7z6lIadKFXpFUKfgkbKfEx/OaMoSwrruCZeRu9LkckaCn4JaycPqIbEwd05u45q9imC70iLVLwS1gxM24/axjVdQ38cdZKr8sRCUoKfgk7A7qkcOnR/Zi5oIj8DVqqUWRfbQa/mfUys/fNbIWZLTOza1poc4GZLfY9PjOzkc32bTCzJWa20My0grp0iKuPH0DXtAR++8Zy3dErsg9/jvjrgeudc4cBRwJXmtnQfdqsB451zh0O/A6Ysc/+Sc65Uf6uAC9yqJLiYrj51CEs2VzOzAVFXpcjElTaDH7n3Bbn3ALf80pgBdBjnzafOef2Dp7+AugZ6EJFDtSUUd0Z3TuDu+asoqpGC7SL7HVA5/jNLBcYDczbT7NLgNnNvnbAO2ZWYGbTD7RAkYNlZtx25jBKK2v4+/uFXpcjEjT8Dn4zSwFmAtc65ypaaTOJpuC/qdnmCc65McCpNJ0mOqaV1043s3wzyy8tLfW7AyL7M6pXBueO7sE/P1nP19t3e12OSFDwK/jNLJam0H/GOfdyK20OB/4JTHHObd+73TlX7Pu3BHgFGNfS651zM5xzec65vOzs7APrhch+3Dh5CNFm3DlrhdeliAQFf0b1GPAosMI5d08rbXoDLwM/cs6tbrY92cxS9z4HTgaWBqJwEX91TU/giuP68/ayb/h87fa2XyAS5vw54p8A/Ag43jckc6GZnWZml5nZZb42twKdgL/vM2wzB/jEzBYBXwJvOefeDnQnRNry02P60SMjkTveXK55fCTixbTVwDn3CWBttLkUuLSF7euAkd99hUjHSoiN5pbThnDVs1/x/PxNnD++t9cliXhGd+5KxDh9RDfG5WZxz9xVVFbXeV2OiGcU/BIxzIz/Of0wtlXV8o8P13ldjohnFPwSUUb2ymDKqO7885N1bCnf43U5Ip5Q8EvE+eXJg2lshL++s7rtxiJhSMEvEadXVhIXT8hl5oIilhWXe12OSIdT8EtEumLSANITY/njrJU4p+GdElkU/BKR0hNjueaEgXxSuI0PV2uKEIksCn6JWBeM70NupyTunLWC+oZGr8sR6TAKfolYcTFR3DR5CKu3VvFSgebsl8ih4JeINnl4V47ok8lf565ml+bslwih4JeIZmb86rTDKK2s4ZGPdVOXRAYFv0S8I/pkcvqIbvzjw3WUVFR7XY5Iu1PwiwA3Th5MfWMj98zVTV0S/hT8IkCfTsn8+KhcXsjfxKpvKr0uR6RdKfhFfK4+fgAp8TH8abZW6pLwpuAX8clIiuPKSQN4f1UpnxVu87ockXaj4Bdp5sLv5dIjI5E7Z6+gUSt1SZhS8Is0kxAbzQ2nDGbp5gpeX1TsdTki7ULBL7KPs0Z2Z3iPNO6es4rqugavyxEJOAW/yD6iooxfnXoYm3fu4YnPNnhdjkjAKfhFWvC9AZ2ZNDibB94vZMeuWq/LEQmoNoPfzHqZ2ftmtsLMlpnZNS20MTO7z8wKzWyxmY1ptu9CM1vje1wY6A6ItJebTz2MXTX1PPB+odeliASUP0f89cD1zrnDgCOBK81s6D5tTgUG+h7TgYcAzCwLuA0YD4wDbjOzzADVLtKuBndN5b+O6MWTn2/g6+27vS5HJGDaDH7n3Bbn3ALf80pgBdBjn2ZTgCddky+ADDPrBpwCzHXOlTnndgBzgckB7YFIO7ru5EFERxl3zVnpdSkiAXNA5/jNLBcYDczbZ1cPYFOzr4t821rb3tL3nm5m+WaWX1qqFZEkOOSkJfDTo/vx5uItLNy00+tyRALC7+A3sxRgJnCtc65i390tvMTtZ/t3Nzo3wzmX55zLy87O9rcskXb3s2P70zkljjtnrdD6vBIW/Ap+M4ulKfSfcc693EKTIqBXs697AsX72S4SMlLiY7jmxEF8ub6Md1eUeF2OyCHzZ1SPAY8CK5xz97TS7HXgx77RPUcC5c65LcAc4GQzy/Rd1D3Zt00kpEwd24t+2cn8abbW55XQ588R/wTgR8DxZrbQ9zjNzC4zs8t8bWYB64BC4BHgCgDnXBnwO2C+73GHb5tISImNblqfd23pLp7P39T2C0SCmAXjOcu8vDyXn5/vdRki/4dzjv/+x+es37abD244jpT4GK9LEvmWmRU45/L8aas7d0X8tHd93m1VNcz4SOvzSuhS8IscgNG9m9bnfeQjrc8roUvBL3KA9q7Pe++7Wp9XQpOCX+QA9emUzA+P7MPz8zexeqvW55XQo+AXOQhXHz+Q5LgY/jxbUzlI6FHwixyErOQ4rpg0gP+sLOHztdu9LkfkgCj4RQ7SxRNy6Z6ewJ2ztD6vhBYFv8hBSoiN5vqTB7NkczlvLNZMJBI6FPwih+Cc0T0Y2i2Nu95eRU291ueV0KDgFzkEUVFNN3Vt3rmHJz/b6HU5In5R8IscookDO3PMoGzuf28NO3drfV4Jfgp+kQC45dQhVNbU86DW55UQoOAXCYDDuqVx3piePPHZRjaVaX1eCW4KfpEAue7kQURFwd1zVnldish+KfhFAqRbeiKXTOzL64uKWVyk9XkleCn4RQLosmP70yk5jj+8pfV5JXgp+EUCKDUhlmtOHMi89WW8t1Lr80pwUvCLBNi0cb3p2zmZP85eqfV5JSgp+EUCbO/6vIUlVTwz72uvyxH5DgW/SDs4ZVgO3+vfiXvmrmbHLt3UJcGlzeA3s8fMrMTMlray/wYzW+h7LDWzBjPL8u3bYGZLfPu0erpEDDPjtjOHUVldp5W6JOj4c8T/ODC5tZ3Oubudc6Occ6OAW4APnXNlzZpM8u33a/V3kXAxuGsqPzyyD09/sZGV31R4XY7It9oMfufcR0BZW+18pgHPHVJFImHkFycOIjUhljveWK7hnRI0AnaO38ySaPrLYGazzQ54x8wKzGx6G6+fbmb5ZpZfWloaqLJEPJWZHMd1Jw3is7XbeWf5Vq/LEQECe3H3TODTfU7zTHDOjQFOBa40s2Nae7FzboZzLs85l5ednR3AskS8dcH43gzKSeEPb62guk5z9ov3Ahn8U9nnNI9zrtj3bwnwCjAugO8nEhJioqO49YxhfF22m8c+Xe91OSKBCX4zSweOBV5rti3ZzFL3PgdOBlocGSQS7iYO7MxJQ3N44L1CtlZUe12ORDh/hnM+B3wODDazIjO7xMwuM7PLmjU7B3jHOber2bYc4BMzWwR8CbzlnHs7kMWLhJJfn34Y9Q2Ou97W7J3irZi2GjjnpvnR5nGahn0237YOGHmwhYmEmz6dkrnk6L489MFazh/fmyP6ZHpdkkQo3bkr0oGumjSArmkJ/ObVpZrHRzyj4BfpQMnxMfzmjKEs31LB019ocXbxhoJfpIOdNqIrRw/szF/fWU1JpS70SsdT8It0MDPjt2cNo6a+kT/OWul1ORKBFPwiHuiXncL0Y/rxyleb+WLddq/LkQij4BfxyJWTBtAjI5FbX1tKnS70SgdS8It4JDEumtvPGsbqrVU8/ukGr8uRCKLgF/HQSUNzOGFIF/733dV8U64LvdIxFPwiHrv9rGHUNzp++8Yyr0uRCKHgF/FYr6wkfn7CQGYv/YZ3ln3jdTkSART8IkFg+jH9GNI1lVtfW0ZldZ3X5UiYU/CLBIHY6Cj+eO4ItlZWc/ccTeIm7UvBLxIkRvfO5MKjcnnqi40UbNzhdTkSxhT8IkHkl6cMpltaAre8vJjaeo3tl/ah4BcJIinxMfz+nOGs3lrFwx+u9bocCVMKfpEgc/yQHM44vBsPvFdIYUmV1+VIGFLwiwSh284cRmJcNDe+tIiGRud1ORJmFPwiQSg7NZ47pgxjwdc7efSTdV6XI2FGwS8SpM4a2Z1ThuXwl3dWU1hS6XU5EkYU/CJBysz4/dkjSI6L5voXF2upRgmYNoPfzB4zsxIzW9rK/uPMrNzMFvoetzbbN9nMVplZoZndHMjCRSJBdmo8vzt7OIs27eSRj9d7XY6ECX+O+B8HJrfR5mPn3Cjf4w4AM4sGHgROBYYC08xs6KEUKxKJzji8O6eP6Ma9c1ezeqtO+cihazP4nXMfAWUH8b3HAYXOuXXOuVrg38CUg/g+IhHvjinDSE2I4foXFmnRFjlkgTrHf5SZLTKz2WY2zLetB7CpWZsi37YWmdl0M8s3s/zS0tIAlSUSHjqlxPP7s4ezZHM5D7xX6HU5EuICEfwLgD7OuZHA/cCrvu3WQttWByQ752Y45/Kcc3nZ2dkBKEskvJw6ohvnjunB/e+tIX/DwfwRLtLkkIPfOVfhnKvyPZ8FxJpZZ5qO8Hs1a9oTKD7U9xOJZL89axg9M5O49vmFVGj6ZjlIhxz8ZtbVzMz3fJzve24H5gMDzayvmcUBU4HXD/X9RCJZakIs/zt1FFvKq7n11RYH2om0KaatBmb2HHAc0NnMioDbgFgA59zDwHnA5WZWD+wBpjrnHFBvZlcBc4Bo4DHnnNaWEzlEY3pncs0JA7ln7mqOG9yFs0e3eulMpEXWlNHBJS8vz+Xn53tdhkjQamh0TJ3xOSu2VDL7mqPplZXkdUniMTMrcM7l+dNWd+6KhKDoKOPeH4zCgGv+/ZXu6pUDouAXCVE9M5P4/TnDWfD1Tv46d7XX5UgIUfCLhLApo3owbVwvHvpgLf9ZsdXrciREKPhFQtxtZw5jWPc0rnthEZvKdntdjhykwpIqlhdXdMh7KfhFQlxCbDR/v2AMjc5x1bMLqKlv8LokOQh/fnsl0x75guq69v/8FPwiYaBPp2TuPm8ki4rK+cNbK7wuRw7Qii0VzF2+lYsn5JIQG93u76fgFwkTk4d35dKJfXny8428tnCz1+XIAXjgvUJS4mO4+Ht9O+T9FPwiYeSmU4cwNjeTm2YuZunmcq/LET8sKy7nrSVbuHhCLulJsR3yngp+kTASGx3F3y84gqykOH72VAHbqmq8Lkna8Nd3VpOWEMOlR/frsPdU8IuEmezUeGb8OI9tVTVc8fQCaut1c1ewKthYxnsrS7jsuP6kJ3bM0T4o+EXC0vAe6dx13uF8uaGMO97UFFnByDnHXW+vonNKPBd9L7dD31vBLxKmpozqwWXH9ufpL77mmXkbvS5H9vFJ4TbmrS/jqkn9SYprc77MgFLwi4SxG04ZzKTB2dz62jI+XK2V7YJFY6Pj7jmr6JGRyLTxvTv8/RX8ImEsOsq4//wxDMpJ5YqnC1hWrJE+weCVrzazuKic604aRHxM+4/b35eCXyTMpcTH8K+LxpKWGMtPHp9P8c49XpcU0XbV1PPnt1cyslcG53i0loKCXyQCdE1P4F8Xj2V3TQMX/2u+lm300MMfrqWksoZbzxhKVFRLS5O3PwW/SIQY0jWNh354BGtLq7jsqQLN6eOBTWW7mfHROqaM6s4RfTI9q0PBLxJBJg7szJ++fzifrd3Oz5/TAi4dyTnHba8vIzrKuGnyEE9rUfCLRJjzjujJb84YypxlW7lx5mIaG4Nv+dVwNHvpN7y3soTrThpE94xET2vp2MGjIhIULpnYl6rqeu59dzUp8TH89qxhmHlzvjkSVFTXcfvryxjeI63Db9ZqSZvBb2aPAWcAJc654S3svwC4yfdlFXC5c26Rb98GoBJoAOr9XQhYRNrfz08YQFVNHY98vJ6U+Bhu9Pj0Qzj78+yVbKuq4dELxxIT7f2JFn+O+B8HHgCebGX/euBY59wOMzsVmAGMb7Z/knNu2yFVKSIBZ2b86rTDqKqp5+8frCU2OoprTxyoI/8A+2h1Kc/M+5pLJ/ZlRM90r8sB/Ah+59xHZpa7n/2fNfvyC6DnoZclIh3BzPj92SOoa3D87T9rqGto5IZTBiv8A6R8dx03vrSYAV1S+OUpg70u51uBPsd/CTC72dcOeMfMHPAP59yMAL+fiByi6Cjjru8f3jSl8wdrqa1v5H9OP0zhHwC3vb6UbVU1PPLjvA5ZWctfAQt+M5tEU/BPbLZ5gnOu2My6AHPNbKVz7qNWXj8dmA7Qu3fHz10hEsmioow7zxlOXLTxz0/WU9fQyG1nDvPsBqNw8OpXm3l1YTHXnjgwaE7x7BWQ4Dezw4F/Aqc657bv3e6cK/b9W2JmrwDjgBaD3/fXwAyAvLw8jS8T6WBmxu1nDSMuJopHPl7P7toG/njuiKC4GBlq1myt5JaXlzAuN4urJg3wupzvOOTgN7PewMvAj5xzq5ttTwainHOVvucnA3cc6vuJSPvZe8E3MS6G+/6zhu27anng/NEdPm1wKNtdW88VzywgKS6a+88fHZS/OP0ZzvkccBzQ2cyKgNuAWADn3MPArUAn4O++c4J7h23mAK/4tsUAzzrn3m6HPohIAJkZ1500iJy0eH7z6lKmPTKPxy7Mo1NKvNelBT3nHDfNXEJhaRVP/WQ8OWkJXpfUInMu+M6q5OXlufz8fK/LEIl47yz7hquf+4ruGYk8dtFY+nZO9rqkoPa3d9dw77urueGUwVzZwad4zKzA33ulgu9vEBEJGicP68qzPx3Pzt21THngEz5eo8VcWvPGomLufXc1547pwRXH9fe6nP1S8IvIfh3RJ4vXr5pI94xELvrXfP716XqC8UyBl+at284vX1xEXp9M/njuiKAfCqvgF5E29cpK4qXLv8cJQ7rw2zeWc+NLi6mu07TOAEuKyrnkiXx6ZiYy48d5nqyodaAU/CLil5T4GB7+4RH8/ISBvFhQxJQHPqWwpMrrsjy1ZmslP35sHumJsTx96XiykuO8LskvCn4R8VtUVNOInyd+Mo7SqhrOvP8TZhYUeV2WJ5YXVzB1xhfEREfxzKXj6Zbu7VTLB0LBLyIH7NhB2cz6+dGM6JnO9S8u4tp/f0X57shZzvGrr3cwdcbnxMdE8cLPjiI3xEY7KfhF5KB0TU/g2UvHc80JA3lj8RZOuvdD3lu51euy2t27y7dywT/nkZkcxwuXHRWSQ1wV/CJy0GKio/jFSYN49YoJZCbF8ZPH87nhxUXs3F3rdWkB55zjnx+v46dP5TOgSwov/uwoemYmeV3WQVHwi8ghG9EzndevnsCVk/rz8lebmfSeIlulAAAH1klEQVSXD/j3l1+HzbKOu2rque6FRfz+rRVMHtaV56cfRZcgvSvXHwp+EQmI+JhobjhlCG9ePZEBXVK4+eUlnPPQZyzatNPr0g7Jii0VnPnAJ7y2cDPXnTSIB88fQ2Jc8A/Z3B9N2SAiAeec45WvNnPnrKYlB08b0ZXrThrEgC6pXpfmt9r6Rh7+cC33v7eGjKQ47ps6mqP6d/K6rFYdyJQNmnJPRALOzDh3TE9OGprDIx+v59GP1/H20m84d0xPrj5+AH06BfcF0S/Xl3Hra0tZ+U0lZ47szu1nDg2rSep0xC8i7W57VQ0PfbCWJ7/YSF1DI6cM7cpPj+nLEX2yvC7t/9iwbRd/fnsls5d+Q7f0BO6YMpyThuZ4XZZfDuSIX8EvIh1ma0U1T3y2gWfmfU35njpG9cpg2rhenDaiG6kJsZ7VtXprJQ++X8gbi4qJj4nm8uP689Oj+4XUuXwFv4gEtd219bxUUMTjn21gXekuEmKjmDysK2eP7sFR/Tt1yHw31XUNzFqyhX/P38SX68tIiovmh0f24dKJfUNyxI6CX0RCgnOOhZt28lJBEW8sKqaiup7kuGiOHpjNpCHZjM3Nom/n5IDNdrlzdy0frCrlPytL+GBlCZU19fTplMQPxvZi2tjeZIbIXDstUfCLSMiprmvg87XbmbtiK++tKOGbimoAOqfEMapXJoO7pjAoJ5V+nVPISYunU0o80a0sBl/X0Ejxzj1sKtvD+m1VLC4qZ1HRTtaUVOEcdE6J5/gh2ZwzuidH9ssK+mmU/aHgF5GQ5pxjbWkV8zfsYP6GMhYXlbNh2y7qm90QFmWQkRRHfEwUsdFRREcZu2vr2VXTwK7aeppHW6fkOEb2ymBkzwyOHZzN4T3SiWrll0ao0nBOEQlpZsaALqkM6JLKtHG9gaZx9Ru272Jd6S5KK6spqayhbFcttfWN1DU00uAgOS6apLgY0hJj6JGRSM/MJPp0SqJbekJYHNUHioJfREJCXEwUg3JSGZQTOjeBBSu/pmwws8fMrMTMlray38zsPjMrNLPFZjam2b4LzWyN73FhoAoXEZGD4+9cPY8Dk/ez/1RgoO8xHXgIwMyygNuA8cA44DYzyzzYYkVE5ND5FfzOuY+Asv00mQI86Zp8AWSYWTfgFGCuc67MObcDmMv+f4GIiEg7C9TsnD2ATc2+LvJta227iIh4JFDB39Llcref7d/9BmbTzSzfzPJLS0sDVJaIiOwrUMFfBPRq9nVPoHg/27/DOTfDOZfnnMvLzs4OUFkiIrKvQAX/68CPfaN7jgTKnXNbgDnAyWaW6buoe7Jvm4iIeMSvcfxm9hxwHNDZzIpoGqkTC+CcexiYBZwGFAK7gYt9+8rM7HfAfN+3usM5t7+LxCIi0s6CcsoGMysFNh7kyzsD2wJYjpfCpS/h0g9QX4JRuPQDDq0vfZxzfp0nD8rgPxRmlu/vfBXBLlz6Ei79APUlGIVLP6Dj+qLF1kVEIoyCX0QkwoRj8M/wuoAACpe+hEs/QH0JRuHSD+igvoTdOX4REdm/cDziFxGR/QjZ4DezyWa2yjcV9M0t7I83s+d9++eZWW7HV9k2P/pxkZmVmtlC3+NSL+psy6FM3R1s/OjLcWZW3uwzubWja/SXmfUys/fNbIWZLTOza1poE/SfjZ/9CInPxcwSzOxLM1vk68tvW2jTvvnlnAu5BxANrAX6AXHAImDoPm2uAB72PZ8KPO913QfZj4uAB7yu1Y++HAOMAZa2sv80YDZN8zcdCczzuuZD6MtxwJte1+lnX7oBY3zPU4HVLfw3FvSfjZ/9CInPxfdzTvE9jwXmAUfu06Zd8ytUj/jHAYXOuXXOuVrg3zRNDd3cFOAJ3/OXgBMs+NZe86cfIcEd/NTdQcePvoQM59wW59wC3/NKYAXfnSE36D8bP/sREnw/5yrfl7G+x74XW9s1v0I1+P2Z7vnbNs65eqAc6NQh1fnP32mrv+/7E/wlM+vVwv5QEG5TdB/l+1N9tpkN87oYf/hOF4ym6QizuZD6bPbTDwiRz8XMos1sIVBC05olrX4m7ZFfoRr8/kz37PeU0B7yp8Y3gFzn3OHAu/z/o4BQEwqfh78W0HR7/EjgfuBVj+tpk5mlADOBa51zFfvubuElQfnZtNGPkPlcnHMNzrlRNM1YPM7Mhu/TpF0/k1ANfn+me/62jZnFAOkE35/vbfbDObfdOVfj+/IR4IgOqi3Q/J6iO9g55yr2/qnunJsFxJpZZ4/LapWZxdIUls84515uoUlIfDZt9SPUPhcA59xO4AO+uzJhu+ZXqAb/fGCgmfU1sziaLn68vk+b14G9i7ufB7znfFdKgkib/djnXOtZNJ3bDEWtTd0dcsys697zrWY2jqb/j7Z7W1XLfHU+Cqxwzt3TSrOg/2z86UeofC5mlm1mGb7nicCJwMp9mrVrfvk1LXOwcc7Vm9lVNM3tHw085pxbZmZ3APnOuddp+o/kKTMrpOk35VTvKm6Zn/34uZmdBdTT1I+LPCt4P+wgp+4ORn705TzgcjOrB/YAU4PwoGKvCcCPgCW+c8oAvwJ6Q0h9Nv70I1Q+l27AE2YWTdMvpxecc292ZH7pzl0RkQgTqqd6RETkICn4RUQijIJfRCTCKPhFRCKMgl9EJMIo+EVEIoyCX0Qkwij4RUQizP8DoG/1C+kiOvwAAAAASUVORK5CYII="&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 不同偏位状态时的聚焦情况&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;apex_r&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;draw_ray_tracing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="n"&gt;surface_0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;get_surface_target&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;apex_r&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;surface_2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;/Users/goldengrape/anaconda3/envs/blog/lib/python3.6/site-packages/ipykernel_launcher.py:5: RuntimeWarning: invalid value encountered in sqrt
  """
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;&lt;/div&gt;</description><category>python</category><guid>https://goldengrape.github.io/posts/python/asphereicle_anti_decenter/</guid><pubDate>Fri, 31 May 2019 04:00:00 GMT</pubDate></item><item><title>那些在线的jupyter</title><link>https://goldengrape.github.io/posts/python/na-xie-zai-xian-de-jupyter/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;h4&gt;update:&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Data School有一篇非常好的评测，写了6个在线的Jupyter服务，建议去看看。
&lt;a href="https://www.dataschool.io/cloud-services-for-jupyter-notebook/"&gt;Six easy ways to run your Jupyter Notebook in the cloud&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里还有一个太长不看的&lt;a href="https://docs.google.com/spreadsheets/d/12thaaXg1Idr3iWST8QyASNDs08sjdPd6m9mbCGtHFn0"&gt;总结表格&lt;/a&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;以下部分写于2年前，部分内容与现实略有差异&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Jupyter&lt;/h2&gt;
&lt;p&gt;如果你是python的初学者, 非常推荐Jupyter.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/python/na-xie-zai-xian-de-jupyter/Jupyter.org"&gt;Juypter&lt;/a&gt;是一个交互式的编程环境,  号称&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;The Notebook has support for over 40 programming languages,
including Python, R, Julia, and Scala.
&lt;/pre&gt;


&lt;p&gt;支持超过40种语言, 其中包括Python,  R,  Julia和Scala. 虽然除了Python, 目前提到的其他语言我还都不会, 但是看起来是很强大很有前途的样子.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;Jupyter的编程环境我很喜欢, 你可以写一段markdown图文并茂的说明, 再写一段代码, 然后单独运行刚刚写过的这一段代码, 看到结果, 调试代码, 改好以后再进行下一段.&lt;/p&gt;
&lt;p&gt;最终完成的文本+代码, 是所谓的&lt;a href="https://zh.wikipedia.org/wiki/%E6%96%87%E5%AD%A6%E7%BC%96%E7%A8%8B"&gt;"文学编程"&lt;/a&gt;, 文字甚至图片说明作者的思路, 中间夹杂着代码, 来教导计算机进行操作. 这样带来了完美的可读性.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sx"&gt;!不要! 相信什么"代码才是最好的注释".&lt;/span&gt;
那是穿格子衬衫背双肩背半夜三点还在写代码的专职程序员才相信的东西&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;如果你不是一个每天必须写代码十几个小时的专业程序员, 而是利用代码去完成自己专业的特殊需求, 可能一个程序要间断好多天才能写完, 那么这种方式能够帮你迅速找到前几天的思路. 继续完成之前的作品.&lt;/p&gt;
&lt;h2&gt;在本地安装Jupyter(跳过吧, 别看)&lt;/h2&gt;
&lt;p&gt;Jupyter当然可以安装在本地, 安装好&lt;a href="https://www.anaconda.com/"&gt;Anaconda&lt;/a&gt;以后, 相对比较容易安装jupyter了.  &lt;/p&gt;
&lt;p&gt;但如果你之前只在windows上安装过商业软件, 一路点next, 或者在mac上从dmg中把应用程序直接拖动到文件夹里就可以运行. 那么安装anaconda, jupyter, 以及在运行jupyter时再安装各种python的依赖包, 是非常痛苦的.&lt;/p&gt;
&lt;p&gt;完全不建议新手进行, 至于那些常年泡在&lt;a href="https://twitter.com/bgm38/status/932512531251216385"&gt;linux里面已经 "&lt;strong&gt;久病成医&lt;/strong&gt; "&lt;/a&gt;的病友, 推荐你们试试.&lt;/p&gt;
&lt;h2&gt;在线的Jupyter&lt;/h2&gt;
&lt;p&gt;如果你是python的初学者, 非常推荐使用在线的Jupyter.&lt;/p&gt;
&lt;p&gt;利用在线的Jupyter要轻松得多, 只需要有网络连接, 有浏览器就可以了. 我测试了mac版的Chrome, Safari, 甚至android上的Chrome和iOS上的Safari, Chrome, 都可以运行在线的Jupyter.&lt;/p&gt;
&lt;p&gt;目前已经有这些服务:&lt;/p&gt;
&lt;h3&gt;Cocalc&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://cocalc.com"&gt;https://cocalc.com&lt;/a&gt; ,
这是一个科学计算平台, 除了提供jupyter, 还提供了sagemath.
sagemath也是一个强大的数学计算工具, 可以当作一个开源的mathematica, 随手解个方程, 求个微分之列都很方便.&lt;/p&gt;
&lt;p&gt;CoCalc已经安装好了大量的python包, 比如numpy, tensorflow, keras, pytorch. . .&lt;/p&gt;
&lt;p&gt;Cocalc有免费版和付费版, 免费版没有额外的网络连接, 也就是说你无法在cocalc里面再访问其他网页, 比如你用jupyter写了一个网络服务程序, 那么是无法用在cocalc免费版里面的. 用git也会受限制. 没有网络连接最麻烦的是如果cocalc没有预装的包, 你是无法自行安装的. 不过如果确实是很常用有名的python包, 那么可以向cocalc网站的支持发个email, 他们的响应速度超级快, 很有可能就帮你装好了.&lt;/p&gt;
&lt;p&gt;我写过&lt;a href="https://goldengrape.github.io/Python-for-ophthalmologist/lesson_01_jupyter.html"&gt;CoCalc的使用教程&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Azure notebook&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://notebooks.azure.com"&gt;https://notebooks.azure.com&lt;/a&gt;
这是微软提供的在线jupyter服务, 财大气粗的微软提供的内存, cpu, 存储空间都不错.&lt;/p&gt;
&lt;p&gt;很有特色的功能有二:
1. 方便一键clone, 看好其他人的做得不错的东西, 可以方便clone一份自己研究.
2. 可以从github导入, 只需要将看中的github repo页面添加, 就可以自动clone, 如果对方更新了, 自己这边也可以方便使用git pull&lt;/p&gt;
&lt;p&gt;微软的这个服务是有网络连接的, 你可以远程下载数据或者导入其他的库. 因此如果出现没有预装的库, 可以自己手动安装. 但麻烦的是, 如果你的notebook停用1小时以后, 远程的server就会停止, 然后你之前安装的东西就会被清除(数据和文件不会), 所以如果有额外的库, 就需要在每次打开的时候预先再次安装一遍.&lt;/p&gt;
&lt;p&gt;好在会有脚本可以做, 你可以参照这个&lt;a href="https://github.com/Microsoft/AzureNotebooks/issues/201#issuecomment-338466615"&gt;帖子&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;到你的 library &amp;gt; settings &amp;gt; Environment
选择 ShellScript 然后选择 特定的脚本
保存
重启 server
&lt;/pre&gt;


&lt;p&gt;安装pytorch的脚本&lt;a href="https://github.com/Microsoft/AzureNotebooks/files/1404777/script.txt"&gt;例子&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;export PATH=~/anaconda3_410/bin:$PATH
conda install pytorch torchvision -c soumith --yes
&lt;/pre&gt;


&lt;p&gt;安装其他的库, 只需要在anaconda里面搜索一下conda的安装方法, 然后替换上面脚本中的conda install pytorch那一段.&lt;/p&gt;
&lt;h3&gt;其他&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Mybinder
&lt;a href="https://mybinder.org/"&gt;https://mybinder.org/&lt;/a&gt;
这个我也还没用过, 据说可以从github里面直接导入, 生成一个docker. 需要什么库的话, 好像也可以通过脚本预先声明, 不一定像azure notebook那样要反复安装.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Google Colaboratory
&lt;a href="https://colab.research.google.com/"&gt;https://colab.research.google.com/&lt;/a&gt;
这是Google的jupyter服务, 但目前还没有完全开放, 点击注册以后会有"您已成功加入到候补名单。一旦 Colaboratory 可供您使用，我们会立即发送电子邮件通知您。"&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;在移动设备上使用&lt;/h2&gt;
&lt;p&gt;主流的手机/平板浏览器, 上面的服务都可以访问, 编辑的时候稍微有点别扭, 特别是在小屏幕的时候, 操作也还是不够方便, 但如果外接键盘/蓝牙键盘也还是不错的.&lt;/p&gt;
&lt;p&gt;除了内置的浏览器, 我还发现了专用的iOS app, &lt;a href="https://juno.sh/"&gt;Juno&lt;/a&gt; 目前还处于testflight状态, 可以去他家网页上申请beta测试. Juno中还内置了Mybinder的demo. 如果你购买了cocalc付费版, 也可以开放出一个远程的jupyter server供Juno使用.&lt;/p&gt;
&lt;h2&gt;自己建立Jupyter在线服务&lt;/h2&gt;
&lt;p&gt;开源社区现在越来越友好了, 有可能的话, 你也可以在自己的服务器或者VPS上建立一个在线的Jupyter服务, 为自己/学生/客户服务. 但我这么怕麻烦的人, 本地电脑都懒得装, 所以我都没有测试过.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jupyter Hub: &lt;a href="https://github.com/jupyterhub/jupyterhub"&gt;https://github.com/jupyterhub/jupyterhub&lt;/a&gt; 这是jupyter官方的服务器安装程序.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Binder Hub:  &lt;a href="https://github.com/jupyterhub/binderhub"&gt;https://github.com/jupyterhub/binderhub&lt;/a&gt;也是从属与jupyter官方的, 但是用docker技术封装, 大概安装调试会方便一些吧.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cocalc/sagemath: &lt;a href="https://github.com/sagemathinc/cocalc"&gt;https://github.com/sagemathinc/cocalc&lt;/a&gt; 这个也是用docker的, 还带有sagemath.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ps.
如果你在本地计算机上安装了jupyter, 非常推荐下面这个插件, 能够在保存jupyter文件的时候, 同时保存同名的 .html 和 .py 形式的文件. 这样在其他的python程序中导入自己写的函数会非常方便. 也很容易在github page上发布文档.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://protips.maxmasnick.com/ipython-notebooks-automatically-export-py-and-html"&gt;http://protips.maxmasnick.com/ipython-notebooks-automatically-export-py-and-html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;EOF()&lt;/p&gt;&lt;/div&gt;</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/na-xie-zai-xian-de-jupyter/</guid><pubDate>Sat, 18 May 2019 04:00:00 GMT</pubDate></item><item><title>齿条绘制</title><link>https://goldengrape.github.io/posts/bulabula/rack_by_fusion360/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;学会了绘制齿条rack。就是和齿轮配合，将圆周运动变换成直线运动的结构。&lt;/p&gt;
&lt;p&gt;&lt;img alt="rack" src="https://i.loli.net/2019/05/12/5cd767b4bdd0f.jpg"&gt;&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;p&gt;有一个&lt;a href="https://knowledge.autodesk.com/support/fusion-360/learn-explore/caas/screencast/Main/Details/a7992d99-5d4d-48c2-b971-a86ba3014608.html"&gt;fusion360官方制作教程参考&lt;/a&gt;，但是我觉得绘制过程太麻烦。而且在实际使用中，要真实确定齿条和齿轮的具体位置，否则其他支架不好安装。&lt;/p&gt;
&lt;p&gt;所以自己学习了一下齿轮的知识，齿轮的主要参数有3个：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;module：模数，这个描述了齿的大小&lt;/li&gt;
&lt;li&gt;齿数：很好理解，一圈有多少个齿&lt;/li&gt;
&lt;li&gt;压力角：也就是齿轮上每个齿的斜边角度。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;module x 齿数 = 齿轮的“分度圆”直径&lt;/p&gt;
&lt;p&gt;关于齿轮和齿条的知识，强烈推荐小原齿轮工业株式会社(暨KHK株式会社)制作的&lt;a href="https://khkgears.net/china/gearknowledge/index.html"&gt;《齿轮设计所需的齿轮基础知识》&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;这种在日常生活中无处不在，却又隐藏在后台，完全不懂也不影响工作学习生活的，无比有用又非常无用的知识，非常酷。&lt;/p&gt;
&lt;p&gt;画齿条的原理：&lt;/p&gt;
&lt;p&gt;两个齿轮之间的是按齿轮的“分度圆”来接触的，比如两个完全相等的齿轮互相咬合时，圆心相当于在分度圆的切线上是对称的。&lt;/p&gt;
&lt;p&gt;如果把齿条看作一个直径无穷大的齿轮，那么也是以分度圆的切线作为对称线，将一个齿镜像即可。这就是画图的原理。&lt;/p&gt;
&lt;p&gt;详细步骤请参考我放在SlideShare上的&lt;a href="https://www.slideshare.net/goldengrape/draw-a-rack-with-fusion-360"&gt;幻灯&lt;/a&gt;。&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/bulabula/rack_by_fusion360/</guid><pubDate>Sun, 12 May 2019 00:00:00 GMT</pubDate></item><item><title>3D打印盔甲</title><link>https://goldengrape.github.io/posts/bulabula/3D_printed_armor/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;咏春拳里有大量用前臂进行格挡的动作，尺骨上也没什么肉，所以很疼啊。小腿上吃了亏，以后对练时肯定要戴上护腿板，但手臂上没有找到现成的护具。&lt;/p&gt;
&lt;p&gt;遇到困难，我当然是选择投机取巧而不是勤学苦练。我只是想健身强体，没打算去打比赛和实战。&lt;/p&gt;
&lt;p&gt;所以，按照这个&lt;a href="https://www.thingiverse.com/thing:2787803"&gt;3D打印到织物上的方法&lt;/a&gt;，制作了两片鱼鳞甲，用来保护自己的手臂。
&lt;img alt="arm" src="https://i.loli.net/2019/05/08/5cd2ec5de5b0d.jpg"&gt;&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;p&gt;打印的时候直接打印整条的。要用到打印到尼龙网上的技巧
&lt;img alt="armor" src="https://i.loli.net/2019/05/08/5cd2ece07c48a.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我用的方法与&lt;a href="https://www.thingiverse.com/thing:2787803"&gt;网上说的暂停打印的方法&lt;/a&gt;略有不同。因为我发现暂停打印以后，如果在铺设尼龙网时用了比较长的时间，打印机可能就休眠或者中断打印了。与其手忙脚乱地赶时间，还不如干脆分成两个文件来打印。&lt;/p&gt;
&lt;p&gt;我用的是&lt;a href="https://www.simplify3d.com/"&gt;Simplify3D&lt;/a&gt;这个软件，可以设定一个打印process的起止高度。所以我把打印过程分成两部分，一个从0开始，打印到0.06mm，也就是2层厚度，然后另一组从0.06mm开始，到打印完成。
&lt;img alt="屏幕快照 2019-05-08 20.05.47" src="https://i.loli.net/2019/05/08/5cd2ed0c4e581.png"&gt;&lt;/p&gt;
&lt;p&gt;这样，先打印完第一部分，把尼龙网铺在打印好的两层上，可以用夹子或者用美工胶布固定，整理好以后再打印第二部分。我觉得比较从容。注意第一部分打印完成以后，挤出头和热床可能温度都会掉下来，赶紧手工设定到需要的温度即可。&lt;/p&gt;
&lt;p&gt;我使用的是掺杂了碳纤维的PLA材料，比较硬。打印完成以后，可以用线缝或者用布料胶水粘到袖子上，套袖是买的自行车防晒用的袖子，有一定弹性，紧身，固定比较好。线缝可能比较耗费时间，布料胶水在淘宝就能找到，能粘上，但不知道粘好以后的强度如何，不过就算掉了几粒，也可以单独打印出单体再重新粘上。&lt;/p&gt;
&lt;p&gt;这是由一个一个小的单体鳞片构成的，每一个鳞片受力时，能够把压力传递给3个鳞片，于是分散了压力。
&lt;img alt="mono" src="https://i.loli.net/2019/05/08/5cd2ed34eaa92.jpg"&gt;&lt;/p&gt;
&lt;p&gt;做好了以后，我用刀试了试，居然可以一定程度上对抗刀砍，这是之前完全没料到的。注意是砍，不是刺，刺的话还是可能被刀尖伤到，鳞片之间没有二次重叠，是有缝隙的。&lt;/p&gt;
&lt;p&gt;补充一下，用Fusion360画六边形平铺二维平面的方法：&lt;/p&gt;
&lt;p&gt;本质上还是一个矩形阵列，但“矩形”的两个边并不是互相垂直的，你需要画出60度夹角的两个方向，就是画好六边形以后，画两个中点连线，然后选择矩形阵列，再方向上，按住command键选上两个方向，间距就是六边形两个平行边的宽度或者再加上空隙。注意这样平铺的结构不是矩形的，而是平行四边形，若做成矩形的样子，要勾选掉一些。&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2019-05-08 21.27.14" src="https://i.loli.net/2019/05/08/5cd2d98eac1e1.png"&gt;&lt;/p&gt;
&lt;p&gt;哦，忘了放上&lt;a href="https://www.thingiverse.com/thing:3615893"&gt;模型的链接&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/bulabula/3D_printed_armor/</guid><pubDate>Wed, 08 May 2019 04:00:00 GMT</pubDate></item><item><title>病例一则：夜间睡眠时疼痛</title><link>https://goldengrape.github.io/posts/bulabula/case-report/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;blockquote&gt;
&lt;p&gt;警告：文中这样擅自修改医嘱的行为是非常危险的，仅由专业人士进行，或在专业人士指导下进行。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我平时对疾病诊断没什么兴趣，碰到病例讨论查房，往往处于神游乃至半昏迷状态。在我看来诊断更多像是在抽屉里找卡片，缺乏连续的推理过程。不过这次遇到的这个病例引起了我的极大兴趣。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;因为这是我自己。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;病人自诉：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;右腿胫骨碰撞后疼痛7天，&lt;/p&gt;
&lt;p&gt;7天前练习咏春拳时，右腿胫骨与对方手肘多次碰撞。碰撞后疼痛，夜间睡眠时加重，可疼醒，平卧小腿肌肉紧张时加重，白天直立稍活动后可缓解。小腿外侧肿胀，踝关节轻肿胀，足跟部及足2-4趾附近有淤血痕迹。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="未命名1" src="https://i.loli.net/2019/05/07/5cd13106184c9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这是用肘外侧防御高鞭腿的动作，高鞭腿大概是排名第二位的“不会打架”动作，（第一位是揪领子，这部分以后再展开讲）。但练习嘛，我就很认真地去踢，于是被磕得很疼。&lt;/p&gt;
&lt;p&gt;疼了一星期，而且糟糕的是夜里更疼，睡着了疼，睡眠质量很差。即使是睡着了以后，身体也是时不时要动一下的，动的时候，肌肉就会紧张收缩用力，然后就会引起一阵腿疼。我昨天终于受不了了，去看病。&lt;/p&gt;
&lt;p&gt;打算去的医院是骨科同学指导过的医院，所以先问了问。到了以后意外发现医院还挺大，就诊环境也不错。主任没出门诊，于是挂了个普通号先看看。大夫很规矩，流程清晰，诊断和治疗方案都是对的。&lt;/p&gt;
&lt;p&gt;以下纯学术讨论，没有任何责怪医生的部分。本人非骨科专业，而且由于SARS当年完全没轮转骨科，有不当之处还请指出。&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h3&gt;主诉&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;患者自述：
右腿胫骨碰撞后疼痛7天，
7天前练习咏春拳时，右腿胫骨与对方手肘多次碰撞。碰撞后疼痛，夜间睡眠时加重，可疼醒，平卧小腿肌肉紧张时加重，白天直立稍活动后可缓解。小腿外侧肿胀，踝关节轻肿胀，足跟部及足2-4趾附近有淤血痕迹。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;查体&lt;/h3&gt;
&lt;p&gt;如患者所诉：小腿外侧肿胀，踝关节轻肿胀，足跟部及足2-4趾附近有淤血痕迹。&lt;/p&gt;
&lt;h3&gt;辅助检查&lt;/h3&gt;
&lt;p&gt;右胫腓骨正侧位：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;影像所见： 右侧胫腓骨骨质完整，未见明显异常征象，所示关节关系可。
诊断意见：右侧胫腓骨未见明显异常，请结合临床。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;此处批评放射科，表扬一下门诊大夫，看片更仔细一些，发现腓骨中部骨膜增厚，还专门在电脑上指给我看。
&lt;img alt="" src="https://i.loli.net/2019/05/07/5cd13905b3a19.jpg"&gt;&lt;/p&gt;
&lt;h3&gt;诊断和处理&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;诊断：软组织损伤&lt;/li&gt;
&lt;li&gt;Rx：抬高患肢高于心脏平面休息，外用药膏（患者自备）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;他那里的是药酒，我觉得水剂用着不方便，而且我这有运医神剂“创伤止痛乳”（现在叫“当红创伤乳膏”），于是就没开药。&lt;/p&gt;
&lt;p&gt;我仔细问了问，夜间睡眠时疼痛加重是什么原因。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"夜间睡眠时加重，可疼醒，平卧小腿肌肉紧张时加重，白天直立稍活动后可缓解。"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;夜间睡眠时疼痛原因：&lt;/h3&gt;
&lt;p&gt;医生的解释是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;外界干扰降低，对痛觉敏感&lt;/li&gt;
&lt;li&gt;副交感神经兴奋&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这么说当然是没错啦，大夫还很仔细地讲解了一下“植物神经系统”，比我以前出门诊解释都多。我只好说我以前是眼科医生，才尽快去拍了片子。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;但是&lt;/strong&gt;，这两条并不能完全解释“白天直立稍活动后可缓解。”&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;于是我就回家躺着了，夜里睡着了还是被疼醒了几次。一直到早上6点多，我迷迷糊糊地，又疼醒了一次，心里念叨着我的骨膜啊，然后突然灵光闪现。立刻爬起来查我重金购买的&lt;a href="https://3d4medical.com/"&gt;Complete Anatomy 2019解剖软件&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关键在于白天站立与夜间平卧时的区别&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="夜间睡眠时疼痛" src="https://i.loli.net/2019/05/08/5cd2301858d9a.jpg"&gt;&lt;/p&gt;
&lt;p&gt;踝关节的命名比较奇怪，抬脚叫做伸，绷脚叫做屈。在平卧放松的状态，踝关节并不是90度的，而是脚尖更远，这时候脚背面和小腿前侧的肌肉是处于拉伸的状态。&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2019-05-07 16.16.35" src="https://i.loli.net/2019/05/07/5cd13efb2df3b.png"&gt;&lt;/p&gt;
&lt;p&gt;右侧小腿，如果把从踝关节后面拉住的肌肉和足内部的肌肉去掉，剩下是主管抬脚足伸肌群：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;胫骨前肌 Tibialis Anterior Muscle&lt;/li&gt;
&lt;li&gt;趾长伸肌 Extensor Digitorum Longus Muscle&lt;/li&gt;
&lt;li&gt;踇长伸肌 Extensor Hallucis Longus Muscle&lt;/li&gt;
&lt;li&gt;第三腓骨肌/腓外侧肌 Fibularis Tertius Muscle&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="幻灯片5" src="https://i.loli.net/2019/05/07/5cd148bf62096.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;其中Extensor Hallucis Longus Muscle的止点就在腓骨的中部
&lt;img alt="幻灯片6" src="https://i.loli.net/2019/05/07/5cd14a3b060df.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="未命名.2019-05-07 16_55_03" src="https://i.loli.net/2019/05/07/5cd1482b66ae4.gif"&gt;)&lt;/p&gt;
&lt;p&gt;我现在高度怀疑是它的肌肉止点附近有损伤。&lt;/p&gt;
&lt;p&gt;这个链条是这样的：&lt;/p&gt;
&lt;p&gt;平卧-&amp;gt;踝关节曲-&amp;gt;伸肌拉长-&amp;gt;收缩时牵扯肌肉止点-&amp;gt;牵扯腓骨骨膜-&amp;gt;疼痛&lt;/p&gt;
&lt;p&gt;对于睡眠状态，这个肌肉拉伸的状态保持更久，所以在翻身或者有肌肉收缩时，会对腓骨骨膜有更大的刺激。而当起身站立之后，足伸肌群处于相对放松的状态，于是直立活动后反而疼痛会有所缓解。&lt;/p&gt;
&lt;p&gt;因此，现在我的处理方式是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;平卧时，利用护踝保持踝关节伸位&lt;/li&gt;
&lt;li&gt;抬高患肢高于心脏休息&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当病人说的是“夜间睡眠时疼痛加重，白天活动后缓解”，他的实际意思是“长时间平卧踝关节屈曲时疼痛加重，直立踝关节伸位时疼痛缓解”。&lt;/p&gt;
&lt;p&gt;这还是医学专业病人自己的症状描述，非专业的病人还不知道要说成是什么样子。&lt;/p&gt;
&lt;p&gt;但愿今晚能睡个好觉。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;次日晨起更新：&lt;/p&gt;
&lt;p&gt;仅仅用护踝固定还是不够的，护踝在脚底面的距离太短，在运动中，因为有体重的压力，将踝关节控制在90度不需要很大的力，但在平卧时护踝脚底面承受的压力则太大，导致足弓很不舒服。&lt;/p&gt;
&lt;p&gt;咨询了同学，应该用“夜靴”，在淘宝上直接搜夜靴会找到一堆夜店穿的靴子，正确的关键词是“夜靴+医”，大概就是一个靴子，鞋尖和鞋帮用弹力绷带连起来。构成一个直角三角形，一个边是鞋底/脚底，一个边是鞋帮/小腿背侧，斜边是弹力绷带。&lt;/p&gt;
&lt;p&gt;经过工程拆解后，可以找到它的等效解：一个位于脚底的边，一个位于脚后跟到小腿背侧的硬边，两个边的连接点，和一个弹力绷带。&lt;/p&gt;
&lt;p&gt;所以我昨天晚上用护踝+护腿板搭了一个，
&lt;img alt="未命名" src="https://i.loli.net/2019/05/08/5cd23315c4599.jpg"&gt;&lt;/p&gt;
&lt;p&gt;早起想更明白了一点，其实用拖鞋和护腿板搭建会更好。&lt;/p&gt;
&lt;h2&gt;实验结果：&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;昨天晚上睡了个好觉！&lt;/strong&gt;
单点非盲实验，没有统计学意义。&lt;/p&gt;
&lt;p&gt;考虑修正第一诊断为：&lt;/p&gt;
&lt;p&gt;踇长伸肌腓骨止点软组织损伤&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/bulabula/case-report/</guid><pubDate>Tue, 07 May 2019 04:00:00 GMT</pubDate></item><item><title>文献赏析: 古代如何测视力</title><link>https://goldengrape.github.io/posts/bulabula/An_Ancient_Eye_Test/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;读到一篇文献, 觉得太有趣了.
&lt;a href="https://www.ncbi.nlm.nih.gov/pubmed/18929764"&gt;《古代如何测视力————用星星》&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;全文可以在&lt;a href="https://sci-hub.tw/https://www.ncbi.nlm.nih.gov/pubmed/18929764"&gt;sci-hub上找到&lt;/a&gt;. 在此简单叙述.&lt;/p&gt;
&lt;p&gt;在视力表出现之前, 古代波斯/阿拉伯, 使用北斗七星勺子柄上中间的开阳星作为视力检测标准.&lt;/p&gt;
&lt;p&gt;&lt;img alt="IMG_3639" src="https://i.loli.net/2018/08/10/5b6c82feabafd.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这是双星, (所以北斗其实是八星?)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;亮的那颗中文名叫开阳, 英文名叫Mizar,&lt;/li&gt;
&lt;li&gt;暗的那颗中文名叫辅, 英文名叫Alcor&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果能够裸眼看出两颗星, 那么就认为被试视力不错. 虽然古代文人可能对视力要求不高, 但士兵可能一直是要有严格体检的, 所以Alcor往往作为对士兵视力的检查标准.&lt;/p&gt;
&lt;p&gt;通常天文学家/ 历史学家只讲到这里, 但这是篇眼科文献, 于是...
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h2&gt;视力&lt;/h2&gt;
&lt;p&gt;正常视力20/20, 或者说1.0, 是说视角=1分, 而开阳双星的&lt;a href="http://aeea.nmns.edu.tw/2006/0606/ap060615.html"&gt;赤经赤纬坐标&lt;/a&gt;分别是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开阳(13:23:55.5, +54:55:31)&lt;/li&gt;
&lt;li&gt;辅((13:23:56.3, +54:55:18))&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是, 两颗星之间的视角大约是12分, 那么相当于视力20/200, 也就是0.1左右, 其实很差. 用0.1左右的视标去检查士兵, 显然并不靠谱.&lt;/p&gt;
&lt;h2&gt;对比度与眩光&lt;/h2&gt;
&lt;p&gt;又但是, Mizar是二等星(2.27), Alcor是四等星(3.95), 亮度差距其实很大(22:9.4), 所以这个测试除了测量视力, 还相当于糅合了对比敏感度和眩光检查.&lt;/p&gt;
&lt;h2&gt;等效性实验&lt;/h2&gt;
&lt;p&gt;文献中记载有好事者做了一个等效性实验,&lt;/p&gt;
&lt;p&gt;先找了一组正视眼的人, 都能看清20/20的视标, 在冬天月亮不明显的晴天夜里去看开阳双星, 大家都能看见. 然后在眼前加正度数透镜, 一直加到看不到Alcor为止, 得到的球面镜度数范围是在+0.5到+0.75.&lt;/p&gt;
&lt;p&gt;第二天, 还是这些人, 去看视力表20/20这一行, 也是同样加球面镜, 直到看不清这一行为止, 得到的球面镜度数范围仍然是+0.5到+0.75.&lt;/p&gt;
&lt;p&gt;这个实验在我看来并不严谨, 但是貌似将开阳双星检查和20/20等效起来.&lt;/p&gt;
&lt;p&gt;其中还有一个有趣的病例, 在等效实验中, 有个20/20的65岁被试, 分不出开阳双星, 考虑是因为早期白内障, 对比敏感度降低.&lt;/p&gt;&lt;/div&gt;</description><category>ophthalmology</category><guid>https://goldengrape.github.io/posts/bulabula/An_Ancient_Eye_Test/</guid><pubDate>Tue, 07 May 2019 03:00:00 GMT</pubDate></item><item><title>根据字幕做视频摘要</title><link>https://goldengrape.github.io/posts/python/video_keynote/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;周末做了一个奇怪的小东西.&lt;/p&gt;
&lt;p&gt;一个根据字幕来做出视频缩略版的工具, 效果参见&lt;a href="https://www.youtube.com/watch?v=wxlySg9TBBI"&gt;李永乐老师讲柏拉图立体的复习缩略版&lt;/a&gt;&lt;/p&gt;
&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/wxlySg9TBBI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;&lt;p&gt;这是一段remix的视频, 是从&lt;a href="https://www.youtube.com/watch?v=m9AE_G_9c7Y"&gt;李永乐老师讲柏拉图立体&lt;/a&gt; 的课程中节选了数学概念的部分, 去掉了推导与展开的部分. 原视频大约12分钟, 剪辑后的视频只有4分钟. 可以方便用来快速复习概念.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;过程是这样的, 先从youtube下载某个视频的字幕, 然后你可以对字幕进行编辑, 删去不重要的部分, 只留下需要保留的文字, 但注意仍然要保留原来的换行. 然后程序会自动在字幕中查找保留文字, 并找到对应的时间. 把对应时间的视频片段下载下来, 连成一体.&lt;/p&gt;
&lt;p&gt;这个程序最好是在Google Colab上运行, 在本地电脑上运行要令终端也可以&lt;strong&gt;正常访问国际互联网&lt;/strong&gt; 本文的&lt;a href="https://github.com/goldengrape/goldengrape.github.io/blob/master/posts/python/video_keynote/index.ipynb"&gt;代码在github上&lt;/a&gt;, 可以上传至&lt;a href="https://colab.research.google.com/"&gt;google colab&lt;/a&gt;中运行&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这个程序依赖于&lt;a href="https://webvtt-py.readthedocs.io/en/latest/"&gt;webvtt-py&lt;/a&gt;、&lt;a href="https://rg3.github.io/youtube-dl/"&gt;youtube-dl&lt;/a&gt; 和 &lt;a href="https://ffmpeg.org/"&gt;ffmpeg&lt;/a&gt; , 当然还有&lt;a href="https://pandas.pydata.org/"&gt;pandas&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意在Google Colab上, webvtt-py和youtube-dl都是需要每次安装的.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;webvtt&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;!&lt;/span&gt;pip install webvtt-py
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;webvtt&lt;/span&gt;
&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;youtube_dl&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;!&lt;/span&gt;pip install youtube_dl
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;youtube_dl&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;difflib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="下载youtube视频字幕"&gt;下载youtube视频字幕&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E4%B8%8B%E8%BD%BDyoutube%E8%A7%86%E9%A2%91%E5%AD%97%E5%B9%95"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;首先是要下载youtube上的视频字幕, youtube的字幕有两类, 一是作者自己上传的文字字幕, 一是由youtube进行语音识别后生成的自动字幕, 其中自动字幕又会被机器翻译成各种语言.&lt;/p&gt;
&lt;p&gt;youtube字幕是一种叫做WebVTT的格式, 可以使用youtube-dl进行下载. 虽然youtube-dl有python运行方式, 但我还不能熟练掌握, 于是使用了subprocess.call运行命令行进行下载.&lt;/p&gt;
&lt;p&gt;如果是下载自动字幕, 要使用&lt;code&gt;--write-auto-sub&lt;/code&gt;, 如果是下载作者上传的字幕, 则是&lt;code&gt;--write-sub&lt;/code&gt;, 下载字幕的时候, 我觉得并不需要将视频也下载下来, 所以要使用&lt;code&gt;--skip-download&lt;/code&gt;, 字幕的语言简体中文=zh-Hans, 英文=en&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download_youtube_sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;out_filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"zh-Hans"&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;vtt_command&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'youtube-dl'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="s1"&gt;'--write-auto-sub'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# 如果下载作者自制的字幕则使用--write-sub&lt;/span&gt;
               &lt;span class="s1"&gt;'--sub-lang'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# 选择语言&lt;/span&gt;
               &lt;span class="s1"&gt;'--skip-download'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# 不下载视频, 只下载字幕&lt;/span&gt;
               &lt;span class="s1"&gt;'--no-continue'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="c1"&gt;# 强制覆盖已经下载的文件&lt;/span&gt;
                   &lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s1"&gt;'--output'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;out_filename&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# 输出文件名格式&lt;/span&gt;
    &lt;span class="c1"&gt;# final out filename=out_filename+lang+'.vtt'&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt_command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;STDOUT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"utf-8"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="清理vtt字幕"&gt;清理vtt字幕&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E6%B8%85%E7%90%86vtt%E5%AD%97%E5%B9%95"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;vtt的字幕, 是一种还挺丰富(=复杂)的字幕格式, 里面不仅仅是时间戳和文字, 文字里可以加入丰富的特效.  特别是英文版本的vtt字幕, 为了表现出连贯的效果, 会把当前行与下一行字幕都显示出来, 于是每一句话其实记录了两次(中文似乎没有). 所以要进行一点清理. 将重复的部分删去. 只保留当前说的一句话, 和这句话的起止时间戳. 保存到一个pandas Dataframe里. 毕竟pandas后期好处理&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;clean_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;starts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;ends&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;extend_text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;splitlines&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;extend_text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;extend_text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;starts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ends&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;previous&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
    &lt;span class="n"&gt;new_lines&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;new_starts&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;new_ends&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;starts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ends&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;previous&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;new_lines&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;new_starts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;new_ends&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;previous&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;

    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"start"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;new_starts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"end"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;new_ends&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"text"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;new_lines&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="合并vtt字幕成为脚本"&gt;合并vtt字幕成为脚本&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E5%90%88%E5%B9%B6vtt%E5%AD%97%E5%B9%95%E6%88%90%E4%B8%BA%E8%84%9A%E6%9C%AC"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;无他, 一行一句, 保留换行之后比较好看也好编辑.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;vtt_to_transcript&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;clean_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;transcript&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"text"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transcript&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="在字幕中找到对应的句子"&gt;在字幕中找到对应的句子&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E5%9C%A8%E5%AD%97%E5%B9%95%E4%B8%AD%E6%89%BE%E5%88%B0%E5%AF%B9%E5%BA%94%E7%9A%84%E5%8F%A5%E5%AD%90"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;给定一句话, 要在字幕中找到这一句话的时间戳, 这样才能按照时间对视频切片. python的标准库里有一个difflib, 专门用来比较, 其中我使用的是get_close_matches, 找到最接近的文字. 这样即使只截取了一句话中的一部分, 也有可能找到相应的话语.&lt;/p&gt;
&lt;p&gt;考虑到给定的一句话, 一定是从字幕中提取出来, 所以没有考虑找不到的情况.&lt;/p&gt;
&lt;p&gt;使用pandas的优点在此显现, 只需要merge两个数据库, 就可以把相同字段, 相同内容的部分求出交集, 这样就可以获得时间戳了.&lt;/p&gt;
&lt;p&gt;(在这里记录url, 是为了日后扩展成从多个字幕中找句子, 那时就要记录每个字幕从哪里来的, 这是后话, 暂时还没有开始)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;find_text_in_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;clean_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"url"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;
    &lt;span class="n"&gt;chosen_text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;splitlines&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;sentence&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;difflib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_close_matches&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"text"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;sentence&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;chosen_text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sentence&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;df_chosen&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;chosen_text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"text"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;df_chosen&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df_chosen&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;df_chosen&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以上就是处理字幕的部分.&lt;/p&gt;
&lt;p&gt;还是以李永乐老师讲课的视频为例, 这堂课的字幕内容&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'https://www.youtube.com/watch?v=m9AE_G_9c7Y'&lt;/span&gt;
    &lt;span class="n"&gt;vtt_pre&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"test"&lt;/span&gt;
    &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'zh-Hans'&lt;/span&gt;
    &lt;span class="n"&gt;vtt_filename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;vtt_pre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"vtt"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;download_youtube_sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vtt_pre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;webvtt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt_filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt_to_transcript&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c1"&gt;#blog中只显示100个字符&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;各位同学大家好 我是李永乐老师
最近有小朋友说 他看综艺节目里面谈到了
柏拉图立体和阿基米德多面体
他想问我这是什么
那我们今天就来先研究一下柏拉图立体
以前其实我们也曾经说过柏拉图立体
什么叫柏拉图
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="手工选择必要的关键部分"&gt;手工选择必要的关键部分&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E6%89%8B%E5%B7%A5%E9%80%89%E6%8B%A9%E5%BF%85%E8%A6%81%E7%9A%84%E5%85%B3%E9%94%AE%E9%83%A8%E5%88%86"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;对, 这个程序做不到人工智能, 只有手工智能, 我怎么知道你觉得那一部分更重要, 所以请复制粘贴上面打印出来的字幕, 然后删掉其中不想要的部分, 保留下需要的, 注意不要改变换行的方式.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;keynote&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;什么叫柏拉图立体呢&lt;/span&gt;
&lt;span class="s1"&gt;他提出正多面体只有五种&lt;/span&gt;
&lt;span class="s1"&gt;所以我们就把正多面体称为柏拉图立体&lt;/span&gt;
&lt;span class="s1"&gt;首先它必须每一个面… 它是个正多面体&lt;/span&gt;
&lt;span class="s1"&gt;每个面都是同样的正多边形&lt;/span&gt;
&lt;span class="s1"&gt;除此之外 它还有一个要求&lt;/span&gt;
&lt;span class="s1"&gt;就是每个顶点的情况必须是相同的&lt;/span&gt;
&lt;span class="s1"&gt;比如说如果每一个顶点都连接三条棱&lt;/span&gt;
&lt;span class="s1"&gt;那所有顶点都必须是这样&lt;/span&gt;
&lt;span class="s1"&gt;然后你如果把这个图形稍微转一个方向&lt;/span&gt;
&lt;span class="s1"&gt;你会发现所有顶点都会跟以前重合&lt;/span&gt;
&lt;span class="s1"&gt;这个就叫每个顶点的情况是相同的&lt;/span&gt;
&lt;span class="s1"&gt;我们就把这种立体称之为正多面体&lt;/span&gt;
&lt;span class="s1"&gt;或者叫柏拉图立体&lt;/span&gt;
&lt;span class="s1"&gt;我们现在想证明一下 正多面体只有五种&lt;/span&gt;
&lt;span class="s1"&gt;首先我们先来看由正三角形所组成的&lt;/span&gt;
&lt;span class="s1"&gt;我们知道三角形每一个内角是60度&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;然后我们就可以给出一句话的起止时间了:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;find_text_in_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;keynote&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;                 text           end         start  \
0           什么叫柏拉图立体呢  00:00:15.539  00:00:13.859   
1         他提出正多面体只有五种  00:00:24.339  00:00:21.719   
2   所以我们就把正多面体称为柏拉图立体  00:00:27.019  00:00:24.519   
3  首先它必须每一个面… 它是个正多面体  00:00:32.520  00:00:29.160   
4        每个面都是同样的正多边形  00:00:38.100  00:00:32.679   

                                           url  
0  https://www.youtube.com/watch?v=m9AE_G_9c7Y  
1  https://www.youtube.com/watch?v=m9AE_G_9c7Y  
2  https://www.youtube.com/watch?v=m9AE_G_9c7Y  
3  https://www.youtube.com/watch?v=m9AE_G_9c7Y  
4  https://www.youtube.com/watch?v=m9AE_G_9c7Y  
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="下载youtube片段"&gt;下载youtube片段&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E4%B8%8B%E8%BD%BDyoutube%E7%89%87%E6%AE%B5"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;根据上面获得的起止时间, 去下载youtube视频中的片段. 很遗憾, youtube-dl虽然可以方便下载youtube视频, 但却无法只下载某个片段. 所以这里有两个事情要做:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;获得真实的youtube视频文件地址. 真正的视频文件并不是你看到的www.youtube.com/watch?v=m9AE_G_9c7Y 而是一个带有签名的超复杂地址, 我猜测可能还会在不同电脑或者不同时间段有变化. 但YouTube-dl是能够获得这个地址的, 方便起见, 我直接抓取的是视频+音频合并的格式. 此时也不必下载视频.&lt;/li&gt;
&lt;li&gt;通过ffmpeg下载视频片段, ffmpeg的&lt;code&gt;-ss -to&lt;/code&gt;可以设定起止时间, 但如果直接使用起止时间, 应当用&lt;code&gt;-copyts&lt;/code&gt;来强制使用原始视频的绝对时间. 而且&lt;code&gt;-ss&lt;/code&gt;放在&lt;code&gt;-i&lt;/code&gt;之前还是之后,也有不少学问. 具体请参考&lt;a href="https://trac.ffmpeg.org/wiki/Seeking"&gt;https://trac.ffmpeg.org/wiki/Seeking&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里使用了x264和mp3分别对视频和音频进行了重新编码, 导致速度较慢. 理论上可以使用“copy”, 但实测发现因为每个片段都很短, 高概率丢失关键帧, 所以不重新编码的话, 很有可能画面是静止的.&lt;/p&gt;
&lt;p&gt;虽然ffmpeg也有python的处理版本, 但是那个库也是生成了ffmpeg的命令行, 还要学一堆他自定的语法, 还不如我直接用subprocess.run呢&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download_part_youtube&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;video_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;output_filename&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;youtube_dl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;YoutubeDL&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;'format'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'22'&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;ydl&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;info_dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ydl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extract_info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;video_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;real_video_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;info_dict&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"url"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;ffmpeg_command&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'ffmpeg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="s1"&gt;'-ss'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="s1"&gt;'-i'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="n"&gt;real_video_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="s1"&gt;'-to'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
     &lt;span class="s1"&gt;'-c:v'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'libx264'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'-c:a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'libmp3lame'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;#视频重编码使用x264, 音频重编码使用mp3&lt;/span&gt;
     &lt;span class="s1"&gt;'-copyts'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# 强制使用原视频的绝对时间&lt;/span&gt;
     &lt;span class="s1"&gt;'-y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# 强制覆盖&lt;/span&gt;
     &lt;span class="n"&gt;output_filename&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ffmpeg_command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;STDOUT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"utf-8"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="根据文字截取视频片段并合并"&gt;根据文字截取视频片段并合并&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E6%A0%B9%E6%8D%AE%E6%96%87%E5%AD%97%E6%88%AA%E5%8F%96%E8%A7%86%E9%A2%91%E7%89%87%E6%AE%B5%E5%B9%B6%E5%90%88%E5%B9%B6"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;这就是把前面的准备工作合并到一起了, 根据摘取的数据库中的url、起止时间, 去到每个url中下载起止时间的视频片段. 这些视频片段都下载到了本地, 将文件名写入一个txt文件进行记录. 然后使用ffmpeg的concat功能将txt文件中的文件合并成一个视频文件. 最后再打扫一下临时文件, 就大功告成了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_youtube_by_keynote&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;final_output&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;#临时文件命名, 记录临时文件列表&lt;/span&gt;
    &lt;span class="n"&gt;temp_file_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"tmp_&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;.mp4"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt;
    &lt;span class="n"&gt;temp_input&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'tmp_input_files.txt'&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp_input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"file '&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp_file_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;    

    
    &lt;span class="c1"&gt;# 遍历数据库, 下载每个视频片段&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iterrows&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;download_part_youtube&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;temp_file_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 将临时文件合并起来&lt;/span&gt;
    &lt;span class="n"&gt;ff_concat_command&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"ffmpeg"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                   &lt;span class="s1"&gt;'-f'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'concat'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="s1"&gt;'-safe'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'0'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="s1"&gt;'-i'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;temp_input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="s1"&gt;'-c:v'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'copy'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'-c:a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'copy'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'-copyts'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;#合并似乎不需要重新编码&lt;/span&gt;
                   &lt;span class="s1"&gt;'-y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;final_output&lt;/span&gt;
                   &lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ff_concat_command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# 打扫临时文件&lt;/span&gt;
    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp_input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;temp_file_list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;合并到一起, 如果是在本地运行, 只需要找本地目录中的内容. 如果是放在colab上, 下载文件是要调用google.colab库中的file.download函数&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;find_text_in_vtt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;keynote&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;vtt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;youtube_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;final_output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"final.mp4"&lt;/span&gt;
    &lt;span class="n"&gt;get_youtube_by_keynote&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;final_output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# download from google colab&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;google.colab&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;
        &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;final_output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"not in google colab"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="使用与进一步改进"&gt;使用与进一步改进&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/video_keynote/#%E4%BD%BF%E7%94%A8%E4%B8%8E%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%94%B9%E8%BF%9B"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;这个小工具可以用来制作公开课的快速复习视频. 比如OCW, deeplearning.ai中的课程, 都是放在youtube上的. 一些上过的课时间一久就该忘了, 太可惜了. 但完全重看一遍又没有必要, 如果用此方法可以制作出快速复习视频. 只需要很短的时间就可以唤起回忆.&lt;/p&gt;
&lt;p&gt;另一个可能的诡异应用是, 我也可以不视频字幕中的文字, 而是自己撰写一些常用的语句, 如果difflib.get_close_matches能够找到接近的语句, 就可以摘取下来. 那么给定一组视频, 比如某个总统的演讲视频. 也可以制作出一份“断章取义”的视频来. 当然每句话之间是断断续续, 背景也可能不断转换. 但可能很有趣吧. 这个功能需要对查找的部分进行一些修改, 以后有时间再进行了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;&lt;/div&gt;</description><category>python</category><guid>https://goldengrape.github.io/posts/python/video_keynote/</guid><pubDate>Mon, 25 Mar 2019 04:00:00 GMT</pubDate></item><item><title>如何查阅文献</title><link>https://goldengrape.github.io/posts/bulabula/how-to-use-pubmed-and-read-paper/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;更新配音幻灯视频:
&lt;iframe src="//player.bilibili.com/player.html?aid=45981183&amp;amp;cid=80563574&amp;amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"&gt; &lt;/iframe&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;面向对象: 不满足于查百度的人. 医疗药品/ 器械相关企业从业者. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;学习目的: 对一个自己不熟悉的领域, (此处为医学), 快速查阅文献, 了解基础知识.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;要求: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础的英语水平: 现在青少年的初中二年级水平. 如果是成年人, 考虑到成人的能力通常会迅速下降, 大概大学4级水平吧.&lt;/li&gt;
&lt;li&gt;会使用Chrome浏览器或Firefox浏览器.&lt;/li&gt;
&lt;li&gt;会安装Chrome插件或Firefox插件.&lt;/li&gt;
&lt;li&gt;可能需要具备“正常访问国际互联网”的能力.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本教程以眼科“OK镜”为例. 场景是这样的, 你带着自己(或好友)的娃去看了看眼睛, 发现近视了. 医生推荐了OK镜, 但这东西好贵啊, 你想自己也多了解一些. 公司可能最近也有往这方面代理产品/研发产品的意图. 所以, 你打算自己再查查资料. &lt;/p&gt;
&lt;p&gt;图文教程, 图片比较多. (如果看不到图片, 可能是因为广告过滤器阻止了sm.ms的图床调用, 需要将i.loli.net许可)&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;软件的准备&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Chrome浏览器: 
本教程按照Chrome浏览器来讲解. 下载Chrome离线版的方法不在此赘述, 可以参考&lt;a href="https://www.zhihu.com/question/19981495"&gt;知乎上的教程&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ScholarScope插件: 
用来显示文献的影响因子, 可以视为一个文献质量的评分吧. ScholarScope插件的下载和使用在其&lt;a href="https://www.scholarscope.cn/"&gt;官方网站上有详细的解说&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;彩云小译网页翻译插件: 
非必须, 但我真的喜欢看中英文对照的翻译, 所以用上&lt;a href="https://chrome.google.com/webstore/detail/lingocloud-interpreter/jmpepeebcbihafjjadogphmbgiffiajh?hl=zh-CN"&gt;这个插件&lt;/a&gt;, 类似网页翻译工具应该还有很多. 国内大概有道, 腾讯, 搜狗之类的都多多少少有类似的东西.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;合适的关键词&lt;/h2&gt;
&lt;p&gt;听到的只有“OK镜”这个词. 似乎是个缩略语, 那么应当选择什么关键词去寻找呢?&lt;/p&gt;
&lt;p&gt;专业词汇的中英文互相翻译, 从CNKI的翻译助手开始, 网址是&lt;a href="http://dict.cnki.net/"&gt;http://dict.cnki.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;打开CNKI翻译助手, 输入“OK镜”
&lt;img alt="屏幕快照 2019-01-28 14.05.47" src="https://i.loli.net/2019/01/28/5c4e9bd98c547.png"&gt;&lt;/p&gt;
&lt;p&gt;有两个候选词汇“OK lens”和“orthokeratology lenses”, 前者似乎是后者的缩写, 本着选择题选答案最长的原则, 我们将使用“orthokeratology lenses”&lt;/p&gt;
&lt;h2&gt;在Pubmed上查文献&lt;/h2&gt;
&lt;p&gt;PubMed, 是美国国家医学图书馆提供的一个医学搜索引擎. 某种程度上, 你就当这是医学文献唯一的搜索引擎好了. 除非是为了某些“医学考古”的研究目的, 否则PubMed上搜不到就意味着不重要或者不存在. &lt;/p&gt;
&lt;p&gt;PubMed的网址很长, 是啰哩啰嗦的https://www.ncbi.nlm.nih.gov/pubmed/ 但通常使用pubmed.gov或者pubmed.org甚至pubmed.com都可以访问到.&lt;/p&gt;
&lt;p&gt;在搜索框里填入orthokeratology lenses, 然后按Search, 出现如下结果: 
&lt;img alt="屏幕快照 2019-01-28 14.13.59" src="https://i.loli.net/2019/01/28/5c4e9dc187f96.png"&gt;&lt;/p&gt;
&lt;h2&gt;从哪里开始看?&lt;/h2&gt;
&lt;h3&gt;文献的重要性&lt;/h3&gt;
&lt;p&gt;搜索orthokeratology lenses有450篇文献, 如果不是这个专业的人, 没必要也没时间都看过一遍. 而且要看, 也要有个先后顺序. 我们刚才装好的ScholarScope插件, 就是为了如此. &lt;/p&gt;
&lt;p&gt;如果之前装好了ScholarScope插件, 那么会在每篇文献的下面有一个数字和一个Q数字, 例如这篇文献的2.12和Q2, 前面的数字越大越重要, 后面的Qx, 数字越小越重要. &lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2019-01-28 14.15.49" src="https://i.loli.net/2019/01/28/5c4e9e2355a1a.png"&gt;&lt;/p&gt;
&lt;h3&gt;文献的类型&lt;/h3&gt;
&lt;p&gt;在左上角, 还有一组限制条件
&lt;img alt="屏幕快照 2019-01-28 14.21.21" src="https://i.loli.net/2019/01/28/5c4e9f7e35ce7.png"&gt;&lt;/p&gt;
&lt;p&gt;如果只是想快速了解一个领域, 当然应该先看看别人写好的综述, 也就是Review. 如果想知道疗效如何, 则可能应该要再看看临床实验Clinical Trials. &lt;/p&gt;
&lt;p&gt;对于某些历史悠久的领域, 还可以限定只看5年以内的文献, 在Publication dates里选上5years.&lt;/p&gt;
&lt;p&gt;对于OK镜, 还算是一个相对较新的领域, 从右边文献与年份的关系可以看出大约是在2000年以后热起来的. 
&lt;img alt="屏幕快照 2019-01-28 14.24.12" src="https://i.loli.net/2019/01/28/5c4ea0273242f.png"&gt;&lt;/p&gt;
&lt;p&gt;我们先暂时不限定文献的类型, 而是快速浏览一下文献的题目和评分, 看看有没有感兴趣的. &lt;/p&gt;
&lt;h3&gt;快速浏览&lt;/h3&gt;
&lt;p&gt;说实话, 我只想读一篇, 满篇英文也挺烦的. 翻译一下吧:&lt;/p&gt;
&lt;p&gt;点一下彩云小译的插件, 可以快速翻译页面中的文字, 如果觉得语句不太通顺, 影响理解, 就再看看英文原文是怎么写的. 
&lt;img alt="屏幕快照 2019-01-28 14.36.13" src="https://i.loli.net/2019/01/28/5c4ea2f8e2c81.png"&gt;&lt;/p&gt;
&lt;p&gt;大致看一下评分, 说实话分数都不高啊, 多数是在1-2分左右, 不过下面有一篇7分多的文章, 显得鹤立鸡群. 还是美国眼科学会报告. 看题目也是大而全, 貌似是不错的入门文章, 就从这里开始好了.
&lt;img alt="屏幕快照 2019-01-28 14.38.31" src="https://i.loli.net/2019/01/28/5c4ea3afedd46.png"&gt;&lt;/p&gt;
&lt;h2&gt;阅读摘要&lt;/h2&gt;
&lt;p&gt;点开这篇&lt;a href="https://www.ncbi.nlm.nih.gov/pubmed/30476518"&gt;“Use of Orthokeratology for the Prevention of Myopic Progression in Children: A Report by the American Academy of Ophthalmology.”&lt;/a&gt; , &lt;/p&gt;
&lt;p&gt;你会看到一段摘要Abstract, 讲述了该文献的大致内容, 如果是临床试验研究, 往往读一下摘要就可以知道其研究结果, 如果嫌弃读英文烦, 也可以用上彩云小译的插件, 此处不再赘述. &lt;/p&gt;
&lt;p&gt;但对于大而全的综述, 最好深入到原文中去读读详细. 
&lt;img alt="屏幕快照 2019-01-28 14.42.50" src="https://i.loli.net/2019/01/28/5c4ea4b13f74d.png"&gt;&lt;/p&gt;
&lt;h2&gt;找到全文&lt;/h2&gt;
&lt;p&gt;理论上, 文章的全文链接出现在右侧的“Full text links”, 但实际上往往点进去是要求付费的. 这是科学界自己也非常不爽的事情, 明明是拿着纳税人的钱做出的研究成果, 却无法分享给全社会, 而被科学杂志收取了费用, 甚至科学家自己不但没有稿费还经常要掏版面费. &lt;/p&gt;
&lt;p&gt;于是此处应有侠盗出场, 
&lt;img alt="Scihub_raven" src="https://i.loli.net/2019/01/28/5c4ea6d76d2db.png"&gt;&lt;/p&gt;
&lt;p&gt;Sci-Hub, 由哈萨克斯坦软件开发暨神经技术研究生亚历珊卓·艾尔巴金（Alexandra Elbakyan）建立, 一个非常非常强大的全文数据库. &lt;/p&gt;
&lt;p&gt;如果已经安装了ScholarScope插件, 去点击doi后面那一串数字, 就可以自动跳转到sci-hub的链接上. 
&lt;img alt="屏幕快照 2019-01-28 14.55.41" src="https://i.loli.net/2019/01/28/5c4ea77a189c9.png"&gt;&lt;/p&gt;
&lt;p&gt;或者, &lt;/p&gt;
&lt;p&gt;这篇文献的网址是: https://www.ncbi.nlm.nih.gov/pubmed/30476518&lt;/p&gt;
&lt;p&gt;那么把 sci-hub.tw/ 加在文献网址的前面, 变成sci-hub.tw/https://www.ncbi.nlm.nih.gov/pubmed/30476518  就可以找到全文了. &lt;/p&gt;
&lt;p&gt;点击save, 就可以下载保存PDF全文了.&lt;img alt="屏幕快照 2019-01-28 15.00.27" src="https://i.loli.net/2019/01/28/5c4ea8b212c28.png"&gt;&lt;/p&gt;
&lt;h2&gt;阅读全文&lt;/h2&gt;
&lt;p&gt;显然还是阅读中文的速度快, 尤其是你可能对这个领域并不熟悉. 对于医学文献, 此处使用&lt;a href="https://fanyi.transgod.cn/"&gt;TransGod的PDF翻译&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;打开https://fanyi.transgod.cn/ 勾选上“上传完成后自动翻译”再点击“上传文件”&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2019-01-28 15.06.12" src="https://i.loli.net/2019/01/28/5c4eaa0444296.png"&gt;&lt;/p&gt;
&lt;p&gt;把刚才下载的PDF全文上传上去, 1分钟左右就能够翻译完成, 然后下载译文即可&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2019-01-28 15.09.27" src="https://i.loli.net/2019/01/28/5c4eaaca2d7a6.png"&gt;&lt;/p&gt;
&lt;p&gt;得到一篇Word文档. 我对他们能够把PDF这种丧心病狂的格式处理得如此服帖非常佩服. (为什么说PDF是丧心病狂的格式, 请参考&lt;a href="https://sspai.com/post/47092"&gt;理解数字世界中的纸张：PDF | 科普&lt;/a&gt;)
&lt;img alt="屏幕快照 2019-01-28 15.11.44" src="https://i.loli.net/2019/01/28/5c4eab4a5b89f.png"&gt;&lt;/p&gt;
&lt;p&gt;这篇文章居然是篇Meta分析, 简单的说就是汇总以前做过的正规临床实验的结果, 按照&lt;a href="https://goldengrape.github.io/posts/bulabula/what-is-ebm/"&gt;证据的强度&lt;/a&gt;汇总出来的一份报告. &lt;/p&gt;
&lt;p&gt;个人建议用&lt;a href="https://goldengrape.github.io/posts/bulabula/gollum-wiki"&gt;wiki&lt;/a&gt;或者其他的笔记软件, 记录一下文献阅读中获得的新识和心得. &lt;/p&gt;
&lt;p&gt;注意, 虽然现在机器学习机器翻译的进步飞快, 但仍然不能代替阅读原文, 机器翻译的译文只是作为辅助, 用来快速浏览, 在涉及到细节的地方, 还是要仔细阅读原文的. &lt;/p&gt;
&lt;h2&gt;作业&lt;/h2&gt;
&lt;p&gt;你在微信里被问到这篇文章&lt;a href="http://www.360doc7.net/wxarticlenew/710434757.html"&gt;《帕金森终于有了特效药！》&lt;/a&gt; 中提到“CBD（大麻二酚）对于改善帕金森病患者病情效果非常显著。”. 本能的, 你觉得这很不靠谱, 请找出你的证据.&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/bulabula/how-to-use-pubmed-and-read-paper/</guid><pubDate>Fri, 15 Mar 2019 04:00:00 GMT</pubDate></item></channel></rss>